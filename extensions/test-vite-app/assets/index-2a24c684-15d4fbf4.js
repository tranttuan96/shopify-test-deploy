import{a as r,b as U,_ as p,d as ve,U as ei,A as ii,z as oi}from"./theme-74fe61d9.js";const St=typeof localStorage<"u",ni=St&&localStorage.getItem("base.content.url")||"",me="config.json",be="base.ui.components.url",ri=St&&localStorage.getItem(be)||"https://static.descope.com/npm/@descope/web-components-ui@<version>/dist/umd/index.js",si=St&&localStorage.getItem(be)||"https://cdn.jsdelivr.net/npm/@descope/web-components-ui@<version>/dist/umd/index.js",ye="descope-login-flow",qt="code",Dt="ra-challenge",Ft="ra-callback",Vt="ra-backup-callback",Kt="ra-initiator",we="data-exclude-field",Ie="dls_last_auth",Ht="state_id",Bt="saml_idp_state_id",zt="saml_idp_username",Jt="descope_idp_initiated",Gt="sso_app_id",Qt="oidc_login_hint",Yt="oidc_prompt",At="data-type",ai="redirect",Zt="poll",Xt="webauthnCreate",li="webauthnGet",di="loadForm",te="submit",ee="polling",ci=["descope-multi-select-combo-box","descope-text-area"];var ut;function E(i){return new URLSearchParams(window.location.search).get(i)}function O(i){if(window.history.replaceState&&E(i)){const t=new URL(window.location.href),e=new URLSearchParams(t.search);e.delete(i),t.search=e.toString(),window.history.replaceState({},"",t.toString())}}function ht(i,t){return p(this,void 0,void 0,function*(){const e=yield fetch(i,{cache:"default"});if(!e.ok)throw Error(`Error fetching URL ${i} [${e.status}]`);return{body:yield e[t||"text"](),headers:Object.fromEntries(e.headers.entries())}})}(function(i){i.backward="backward",i.forward="forward"})(ut||(ut={}));function pt({projectId:i,filename:t,assetsFolder:e="v2-beta",baseUrl:o}){const n=new URL(ni||o||"https://static.descope.com/pages");return n.pathname=((...s)=>s.join("/").replace(/\/+/g,"/"))(n.pathname,i,e,t),n.toString()}function ui(i,t){if(!t)return;const e=+i,o=+t;return Number.isNaN(e)||Number.isNaN(o)?void 0:e>o?ut.forward:e<o?ut.backward:void 0}const Ae=()=>{const[i="",t=""]=(E(ye)||"").split("_");return{executionId:i,stepId:t}};function ke(){O(ye)}const Ce=i=>i.replace(/-./g,t=>t[1].toUpperCase()),hi=()=>{const{executionId:i,stepId:t}=Ae();(i||t)&&ke();const e=E("t")||void 0;e&&O("t");const o=E(qt)||void 0;o&&O(qt);const n=E("err")||void 0;n&&O("err");const{redirectAuthCodeChallenge:s,redirectAuthCallbackUrl:a,redirectAuthBackupCallbackUri:d,redirectAuthInitiator:c}={redirectAuthCodeChallenge:E(Dt),redirectAuthCallbackUrl:E(Ft),redirectAuthBackupCallbackUri:E(Vt),redirectAuthInitiator:E(Kt)};(s||a||d||c)&&(O(Dt),O(Ft),O(Vt),O(Kt));const l=E(Ht);l&&O(Ht);const u=E(Bt);u&&O(Bt);const h=E(zt);u&&O(zt);const f=E(Jt);f&&O(Jt);const w=E(Gt);w&&O(Gt);const b=E(Qt);b&&O(Qt);const y=E(Yt);return y&&O(Yt),{executionId:i,stepId:t,token:e,code:o,exchangeError:n,redirectAuthCodeChallenge:s,redirectAuthCallbackUrl:a,redirectAuthBackupCallbackUri:d,redirectAuthInitiator:c,oidcIdpStateId:l,samlIdpStateId:u,samlIdpUsername:h,descopeIdpInitiated:f==="true",ssoAppId:w,oidcLoginHint:b,oidcPrompt:y}},$t=i=>{let t,e;return(...o)=>{return t&&(s=o,(n=t).length===s.length&&n.every((a,d)=>a===s[d]))||(t=o,e=i(...o)),e;var n,s}},ie=(i,t,e,o,n,s,a)=>i&&!t&&i&&!e&&!o&&i&&!n&&i&&!s&&i&&!a,pi=i=>i==null?void 0:i.submit(),oe=(i,t)=>{const e=t.find(o=>i[o]);return e?i[e]:null},fi=(i,t=100)=>{let e;return function(...o){e||i.apply(this,o),clearTimeout(e),e=setTimeout(()=>{e=null},t)}};function jt(i){let t=navigator.language;return t&&t!=="zh-TW"&&(t=t.split("-")[0]),(i||t||"").toLowerCase()}var F,Y,tt,bt;function Se(i,t){const e=Object.getOwnPropertyNames(i),o=Object.getOwnPropertyNames(t);if(e.length!==o.length)return!1;for(let n=0;n<e.length;n+=1){const s=e[n],a=i[s],d=t[s];if(a===null||d===null){if(a!==d)return!1}else if(typeof a=="object"&&typeof d=="object"){if(!Se(a,d))return!1}else if(a!==d)return!1}return!0}class dt{constructor(t={},{updateOnlyOnChange:e=!0}={}){F.set(this,void 0),Y.set(this,{}),tt.set(this,0),bt.set(this,!1),this.update=o=>{const n=typeof o=="function"?o(r(this,F,"f")):o,s=Object.assign(Object.assign({},r(this,F,"f")),n);if(!r(this,bt,"f")||!Se(r(this,F,"f"),s)){const a=r(this,F,"f");U(this,F,s,"f"),Object.freeze(r(this,F,"f")),setTimeout(()=>{Object.values(r(this,Y,"f")).forEach(d=>d(s,a,((c,l)=>u=>c[u]!==l[u])(s,a)))},0)}},U(this,F,t,"f"),U(this,bt,e,"f")}get current(){return Object.assign({},r(this,F,"f"))}subscribe(t){return U(this,tt,r(this,tt,"f")+1,"f"),r(this,Y,"f")[r(this,tt,"f")]=t,r(this,tt,"f").toString()}unsubscribe(t){const e=!!r(this,Y,"f")[t];return e&&delete r(this,Y,"f")[t],e}unsubscribeAll(){return U(this,Y,{},"f"),!0}}F=new WeakMap,Y=new WeakMap,tt=new WeakMap,bt=new WeakMap;const gi=["disabled"],ne=(i,t)=>{Object.entries(t||{}).forEach(([e,o])=>{Array.from(i.querySelectorAll(`*[name="${e}"]:not([${we}])`)).forEach(n=>{n.value=o})})},xt=(i,t)=>i.replace(/{{(.+?)}}/g,(e,o)=>{return n=t,o.split(".").reduce((s,a)=>(s==null?void 0:s[a])||"",n);var n}),re=(i,t,e)=>{i.querySelectorAll(`[${At}="${t}"]`).forEach(o=>{o.setAttribute("href",e)})},se=(i,t,e)=>{var o,n;const s=(o=customElements.get(t))===null||o===void 0?void 0:o.cssVarList.url;e&&s&&((n=i==null?void 0:i.style)===null||n===void 0||n.setProperty(s,`url(data:image/jpg;base64,${e})`))},vi=(i,t,e,o,n,s)=>{var a,d;let c=t==null?void 0:t.errorText;try{c=(n==null?void 0:n({text:t==null?void 0:t.errorText,type:t==null?void 0:t.errorType}))||(t==null?void 0:t.errorText)}catch(l){s.error("Error transforming error message",l.message)}((l,u,h="")=>{l.querySelectorAll(`[${At}="${u}"]`).forEach(f=>{f.textContent=h,f.classList[h?"remove":"add"]("hide")})})(i,"error-message",c),re(i,"totp-link",(a=t==null?void 0:t.totp)===null||a===void 0?void 0:a.provisionUrl),re(i,"notp-link",(d=t==null?void 0:t.notp)===null||d===void 0?void 0:d.redirectUrl),((l,u)=>{l.querySelectorAll("descope-text,descope-link,descope-enriched-text,descope-code-snippet").forEach(h=>{h.textContent=xt(h.textContent,u);const f=h.getAttribute("href");f&&h.setAttribute("href",xt(f,u))})})(i,t),((l,u,h)=>{u&&Object.keys(u).forEach(f=>{l.querySelectorAll(`[name=${f}]`).forEach(w=>{const b=u[f];Object.keys(b).forEach(y=>{let v=b[y];if(typeof v!="string")try{v=JSON.stringify(v)}catch(A){h.error(`Could not stringify value "${v}" for "${y}"`,A.message),v=""}w.setAttribute(y,v)})})})})(i,e,s),((l,u)=>{l.querySelectorAll("[data-has-dynamic-attr-values]").forEach(h=>{Array.from(h.attributes).forEach(f=>{f.value=xt(f.value,u)})})})(i,t),((l,u)=>{Object.entries(u).forEach(([h,f])=>{l.querySelectorAll(`[name="${h}"]`).forEach(w=>{Object.entries(f).forEach(([b,y])=>{gi.includes(b)&&w.setAttribute(b,y)})})})})(i,o)},mi=$t(()=>p(void 0,void 0,void 0,function*(){var i,t,e,o,n;if(!window.PublicKeyCredential||!PublicKeyCredential.isConditionalMediationAvailable||!PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable)return!1;try{const s=Promise.all([(i=window.PublicKeyCredential)===null||i===void 0?void 0:i.isConditionalMediationAvailable(),(t=window.PublicKeyCredential)===null||t===void 0?void 0:t.isUserVerifyingPlatformAuthenticatorAvailable()]).then(d=>d.every(c=>!!c)),a=(()=>{var d;const c=(d=navigator==null?void 0:navigator.userAgentData)===null||d===void 0?void 0:d.brands,l=c==null?void 0:c.find(({brand:u,version:h})=>u==="Chromium"&&parseFloat(h));return l?l.version:0})()>=108;return yield(e=100,o=s,n=a,new Promise((d,c)=>{let l=!1;const u=setTimeout(()=>{l=!0,n!==void 0?d(n):c(new Error(`Promise timed out after ${e} ms`))},e);o.then(h=>{l||(clearTimeout(u),d(h))}).catch(h=>{l||(clearTimeout(u),c(h))})}))}catch(s){return console.error("Conditional login check failed",s),!1}})),ae={"lastAuth.loginId":{"not-empty":i=>!!i.loginId,empty:i=>!i.loginId},idpInitiated:{"is-true":i=>!!i.code,"is-false":i=>!i.code},externalToken:{"is-true":i=>!!i.token,"is-false":i=>!i.token},abTestingKey:{"greater-than":(i,t)=>(i.abTestingKey||0)>t,"less-than":(i,t)=>(i.abTestingKey||0)<t}};function le(i){const t={};if(i)try{Object.assign(t,JSON.parse(localStorage.getItem(Ie)))}catch{}return t}const de="dls_ab_testing_id",Ee=document.createElement("template");Ee.innerHTML=`
	<style>
		:host {
      all: initial;
			width: 100%;
			height: 100%;
      display: block;
		}

		#wc-root {
			height: 100%;
			transition: opacity 300ms ease-in-out;
      display: flex;
		}

		#wc-root[data-theme] {
			background-color: transparent;
		}

		.fade-out {
			opacity: 0.1;
		}

	</style>
	<div id="wc-root"></div>
	`;const Ue=(i,t="")=>Object.keys(i).reduce((e,o)=>{var n;if(typeof i[o]=="object"&&i[o]!==null&&!(!((n=i[o])===null||n===void 0)&&n.value))return Object.assign(Object.assign({},e),Ue(i[o],`${t+o}.`));const s=typeof i[o]=="object"?i[o]:{value:i[o]},a=Object.assign(Object.assign({},e),{[t+o]:s,[`form.${t}${o}`]:s});return o==="displayName"?Object.assign(Object.assign({},a),{[`${t}fullName`]:s,[`form.${t}fullName`]:s}):a},[]);var m,yt,Z,et,ct,z,it,kt,je,xe,Oe,Ot,Le,ce,Te,We,ue,J,$e,Ct,Re,Me,he,Pe,Lt,Tt,_e,Ne,qe,pe,De,S,st,H,wt,Fe,at,Ve,K,Wt,fe,Ke,He,Be,ze,Je,Ge,It,ge,Qe,Ye,lt;class P extends HTMLElement{static get observedAttributes(){return["project-id","flow-id","base-url","tenant","theme","locale","debug","storage-prefix","preview","redirect-url","auto-focus","store-last-authenticated-user","keep-last-authenticated-user-after-logout","validate-on-blur"]}constructor(t){super(),m.add(this),this.logger=console,yt.set(this,!1),this.loggerWrapper={error:(e,o="")=>{this.logger.error(e,o,new Error),r(this,m,"m",Ne).call(this,e,o)},warn:(e,o="")=>{this.logger.warn(e,o)},info:(e,o="",n={})=>{this.logger.info(e,o,n)},debug:(e,o="")=>{this.logger.debug(e,o)}},Z.set(this,new dt),et.set(this,new dt),ct.set(this,{}),this.getComponentsContext=()=>r(this,ct,"f"),this.nextRequestStatus=new dt({isLoading:!1}),z.set(this,void 0),it.set(this,{popstate:r(this,m,"m",Le).bind(this),componentsContext:r(this,m,"m",Pe).bind(this)}),kt.set(this,void 0),J.set(this,$t(()=>p(this,void 0,void 0,function*(){const e=pt({projectId:this.projectId,filename:me,baseUrl:this.baseStaticUrl});try{const{body:o,headers:n}=yield ht(e,"json");return{projectConfig:o,executionContext:{geo:n["x-geo"]}}}catch{return{isMissingConfig:!0}}}))),Ct.set(this,void 0),U(this,kt,t,"f"),r(this,m,"m",je).call(this)}get projectId(){return this.getAttribute("project-id")}get flowId(){return this.getAttribute("flow-id")}get client(){try{return JSON.parse(this.getAttribute("client"))||{}}catch{return{}}}get baseUrl(){return this.getAttribute("base-url")||void 0}get baseStaticUrl(){return this.getAttribute("base-static-url")}get tenant(){return this.getAttribute("tenant")||void 0}get redirectUrl(){return this.getAttribute("redirect-url")||void 0}get debug(){return this.getAttribute("debug")==="true"}get locale(){return this.getAttribute("locale")||void 0}get theme(){var t,e;const o=this.getAttribute("theme");return o==="os"?window.matchMedia&&(!((e=(t=window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)"))===null||e===void 0)&&e.matches)?"dark":"light":o||"light"}get autoFocus(){var t;const e=(t=this.getAttribute("auto-focus"))!==null&&t!==void 0?t:"true";return e==="skipFirstScreen"?e:e==="true"}get validateOnBlur(){return this.getAttribute("validate-on-blur")==="true"}get storeLastAuthenticatedUser(){var t;return((t=this.getAttribute("store-last-authenticated-user"))!==null&&t!==void 0?t:"true")==="true"}get keepLastAuthenticatedUserAfterLogout(){return this.getAttribute("keep-last-authenticated-user-after-logout")==="true"}get storagePrefix(){return this.getAttribute("storage-prefix")||""}get preview(){return!!this.getAttribute("preview")}get formConfig(){return(t=>{try{return Ue(JSON.parse(t))}catch{return{}}})(this.form)}get form(){return this.getAttribute("form")}get formConfigValues(){return t=this.formConfig,e="value",Object.fromEntries(Object.entries(t).map(([o,n])=>[o,n[e]]));var t,e}getExecutionContext(){return p(this,void 0,void 0,function*(){const{executionContext:t}=yield r(this,J,"f").call(this);return t})}getProjectConfig(){return p(this,void 0,void 0,function*(){const{projectConfig:t}=yield r(this,J,"f").call(this);return t})}getFlowConfig(){var t,e;return p(this,void 0,void 0,function*(){const o=yield this.getProjectConfig(),n=((t=o==null?void 0:o.flows)===null||t===void 0?void 0:t[this.flowId])||{};return(e=n.version)!==null&&e!==void 0||(n.version=0),n})}getTargetLocales(){return p(this,void 0,void 0,function*(){const t=yield this.getFlowConfig();return((t==null?void 0:t.targetLocales)||[]).map(e=>e.toLowerCase())})}connectedCallback(){return p(this,void 0,void 0,function*(){if(this.shadowRoot.isConnected){if(r(this,et,"f").subscribe(r(this,m,"m",_e).bind(this)),r(this,et,"f").update({isDebug:this.debug}),r(this,m,"m",xe).call(this))return void r(this,m,"m",Oe).call(this);if(r(this,m,"m",Ot).call(this),U(this,Ct,r(this,m,"m",$e).call(this),"f"),yield r(this,m,"m",We).call(this))return void this.loggerWrapper.error("This SDK version does not support your flows version","Make sure to upgrade your flows to the latest version or use an older SDK version");if((yield r(this,J,"f").call(this)).isMissingConfig)return void this.loggerWrapper.error("Cannot get config file","Make sure that your projectId & flowId are correct");r(this,m,"m",Re).call(this),yield r(this,m,"m",De).call(this),yield r(this,m,"m",Me).call(this),r(this,m,"m",qe).call(this);const{executionId:t,stepId:e,token:o,code:n,exchangeError:s,redirectAuthCallbackUrl:a,redirectAuthBackupCallbackUri:d,redirectAuthCodeChallenge:c,redirectAuthInitiator:l,oidcIdpStateId:u,samlIdpStateId:h,samlIdpUsername:f,descopeIdpInitiated:w,ssoAppId:b,oidcLoginHint:y,oidcPrompt:v}=hi();window.addEventListener("popstate",r(this,it,"f").popstate),window.addEventListener("components-context",r(this,it,"f").componentsContext),r(this,Z,"f").subscribe(r(this,m,"m",Te).bind(this)),r(this,Z,"f").update({projectId:this.projectId,flowId:this.flowId,baseUrl:this.baseUrl,tenant:this.tenant,redirectUrl:this.redirectUrl,locale:this.locale,stepId:e,executionId:t,token:o,code:n,exchangeError:s,redirectAuthCallbackUrl:a,redirectAuthBackupCallbackUri:d,redirectAuthCodeChallenge:c,redirectAuthInitiator:l,oidcIdpStateId:u,samlIdpStateId:h,samlIdpUsername:f,descopeIdpInitiated:w,ssoAppId:b,oidcLoginHint:y,oidcPrompt:v}),U(this,yt,!0,"f")}})}disconnectedCallback(){r(this,Z,"f").unsubscribeAll(),r(this,et,"f").unsubscribeAll(),r(this,m,"m",Tt).call(this),window.removeEventListener("popstate",r(this,it,"f").popstate),window.removeEventListener("components-context",r(this,it,"f").componentsContext)}attributeChangedCallback(t,e,o){if(this.shadowRoot.isConnected&&r(this,yt,"f")&&e!==o&&P.observedAttributes.includes(t)){r(this,m,"m",Ot).call(this);const n=e===null;r(this,Z,"f").update(({stepId:s,executionId:a})=>{let d=s,c=a;return n||(c=null,d=null,ke()),{[Ce(t)]:o,stepId:d,executionId:c}}),r(this,et,"f").update({isDebug:this.debug}),t==="theme"&&r(this,m,"m",Lt).call(this)}}}yt=new WeakMap,Z=new WeakMap,et=new WeakMap,ct=new WeakMap,z=new WeakMap,it=new WeakMap,kt=new WeakMap,J=new WeakMap,Ct=new WeakMap,m=new WeakSet,je=function(){this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Ee.content.cloneNode(!0)),this.rootElement=this.shadowRoot.querySelector("#wc-root")},xe=function(){return!this.shadowRoot.host.closest("form")&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},Oe=function(){const i=this.shadowRoot.host,t=document.createElement("form");t.style.width="100%",t.style.height="100%",i.parentElement.appendChild(t),t.appendChild(i)},Ot=function(){const i=["base-url","tenant","theme","locale","debug","redirect-url","auto-focus","store-last-authenticated-user","keep-last-authenticated-user-after-logout","preview","storage-prefix","form","client","validate-on-blur"];if(P.observedAttributes.forEach(t=>{if(!i.includes(t)&&!this[Ce(t)])throw Error(`${t} cannot be empty`)}),this.theme&&this.theme!=="light"&&this.theme!=="dark")throw Error('Supported theme values are "light", "dark", or leave empty for using the OS theme')},Le=function(){const{stepId:i,executionId:t}=Ae();r(this,Z,"f").update({stepId:i,executionId:t})},ce=function(i,t){this.sdk=oi(Object.assign(Object.assign({persistTokens:!0,preview:this.preview,storagePrefix:this.storagePrefix,storeLastAuthenticatedUser:this.storeLastAuthenticatedUser,keepLastAuthenticatedUserAfterLogout:this.keepLastAuthenticatedUserAfterLogout},P.sdkConfigOverrides),{projectId:i,baseUrl:t})),["start","next"].forEach(e=>{const o=this.sdk.flow[e];this.sdk.flow[e]=(...n)=>p(this,void 0,void 0,function*(){this.nextRequestStatus.update({isLoading:!0});try{return yield o(...n)}finally{this.nextRequestStatus.update({isLoading:!1})}})})},Te=function(i,t,e){return p(this,void 0,void 0,function*(){const{projectId:o,baseUrl:n}=i;if(e("projectId")||e("baseUrl")){if(!o)return;r(this,m,"m",ce).call(this,o,n)}r(this,kt,"f").call(this,i)})},We=function(){return p(this,void 0,void 0,function*(){return(yield r(this,J,"f").call(this)).isMissingConfig&&(yield r(this,m,"m",ue).call(this))})},ue=function(){return p(this,void 0,void 0,function*(){const i=pt({projectId:this.projectId,filename:me,assetsFolder:"v2-alpha",baseUrl:this.baseStaticUrl});try{return yield ht(i,"json"),!0}catch{return!1}})},$e=function(){return p(this,void 0,void 0,function*(){const i=pt({projectId:this.projectId,filename:"theme.json",baseUrl:this.baseStaticUrl});try{const{body:t}=yield ht(i,"json");return t}catch{return void this.loggerWrapper.error("Cannot fetch theme file","make sure that your projectId & flowId are correct")}})},Re=function(){var i,t;return p(this,void 0,void 0,function*(){const{projectConfig:e}=yield r(this,J,"f").call(this),o=(t=(i=e==null?void 0:e.cssTemplate)===null||i===void 0?void 0:i[this.theme])===null||t===void 0?void 0:t.fonts;o&&Object.values(o).forEach(n=>(s=>{if(!s)return;const a=document.createElement("link");a.href=s,a.rel="stylesheet",document.head.appendChild(a)})(n.url))})},Me=function(){return p(this,void 0,void 0,function*(){yield r(this,m,"m",he).call(this),yield r(this,m,"m",Lt).call(this)})},he=function(){var i,t,e,o;return p(this,void 0,void 0,function*(){const n=document.createElement("style"),s=yield r(this,Ct,"f");n.innerText=(((i=s==null?void 0:s.light)===null||i===void 0?void 0:i.globals)||"")+(((t=s==null?void 0:s.dark)===null||t===void 0?void 0:t.globals)||"");const a=yield P.descopeUI;a!=null&&a.componentsThemeManager&&!a.componentsThemeManager.hasThemes&&(a.componentsThemeManager.themes={light:(e=s==null?void 0:s.light)===null||e===void 0?void 0:e.components,dark:(o=s==null?void 0:s.dark)===null||o===void 0?void 0:o.components}),this.shadowRoot.appendChild(n)})},Pe=function(i){U(this,ct,Object.assign(Object.assign({},r(this,ct,"f")),i.detail),"f")},Lt=function(){return p(this,void 0,void 0,function*(){this.rootElement.setAttribute("data-theme",this.theme);const i=yield P.descopeUI;i!=null&&i.componentsThemeManager&&(i.componentsThemeManager.currentThemeName=this.theme)})},Tt=function(){var i;(i=r(this,z,"f"))===null||i===void 0||i.remove(),U(this,z,null,"f")},_e=function({isDebug:i}){return p(this,void 0,void 0,function*(){i?(U(this,z,document.createElement("descope-debugger"),"f"),Object.assign(r(this,z,"f").style,{position:"fixed",top:"0",right:"0",height:"100vh",width:"100vw",pointerEvents:"none",zIndex:99999}),yield ve(()=>import("./debugger-wc-fc58aaf8-d135b4c3.js"),["./debugger-wc-fc58aaf8-d135b4c3.js","./theme-74fe61d9.js","./theme-3d9cf53d.css"],import.meta.url),document.body.appendChild(r(this,z,"f"))):r(this,m,"m",Tt).call(this)})},Ne=function(i,t){var e;i&&this.debug&&((e=r(this,z,"f"))===null||e===void 0||e.updateData({title:i,description:t}))},qe=function(){this.rootElement.onkeydown=i=>{var t,e,o;const n=!!(!((t=this.shadowRoot.activeElement)===null||t===void 0)&&t.getAttribute("href")),s=ci.includes((o=(e=this.shadowRoot.activeElement)===null||e===void 0?void 0:e.localName)!==null&&o!==void 0?o:"");if(i.key!=="Enter"||n||s)return;i.preventDefault();const a=this.rootElement.querySelectorAll("descope-button");if(a.length===1&&a[0].getAttribute("auto-submit")!=="false")return void a[0].click();const d=Array.from(a).filter(l=>l.getAttribute("auto-submit")==="true");if(d.length===1)return void d[0].click();const c=Array.from(a).filter(l=>l.getAttribute("data-type")==="button");if(c.length===1)c[0].getAttribute("auto-submit")!=="false"&&c[0].click();else if(c.length===0){const l=Array.from(a).filter(u=>u.getAttribute("data-type")==="sso");l.length===1&&l[0].getAttribute("auto-submit")!=="false"&&l[0].click()}}},pe=function(){var i,t;return p(this,void 0,void 0,function*(){return((t=(i=yield r(this,J,"f").call(this))===null||i===void 0?void 0:i.projectConfig)===null||t===void 0?void 0:t.componentsVersion)||(this.logger.error("Did not get components version, using latest version"),"latest")})},De=function(){return p(this,void 0,void 0,function*(){P.descopeUI?this.loggerWrapper.debug("DescopeUI is already loading, probably multiple flows are running on the same page"):P.descopeUI=new Promise(i=>{if(globalThis.DescopeUI)return void i(globalThis.DescopeUI);const t=n=>{const s=document.createElement("script");return s.id="load-descope-ui",s.src=n,s},e=(n,s)=>n.replace("<version>",s),o=(n,s)=>{const a=()=>{this.loggerWrapper.error("Cannot load DescopeUI",`Make sure this URL is valid and return the correct script: "${n.src}"`),s()};n.addEventListener("load",()=>{globalThis.DescopeUI||a(),i(globalThis.DescopeUI)}),n.addEventListener("error",a)};p(this,void 0,void 0,function*(){const n=yield r(this,m,"m",pe).call(this),s=t(e(ri,n));o(s,()=>{s.remove(),this.loggerWrapper.info("Trying to load DescopeUI from a fallback URL");const a=t(e(si,n));o(a,()=>{i(void 0)}),document.body.append(a)}),document.body.append(s)})})})},P.sdkConfigOverrides={baseHeaders:{"x-descope-sdk-name":"web-component","x-descope-sdk-version":"3.20.2"}};class bi extends P{static set sdkConfigOverrides(t){P.sdkConfigOverrides=t}constructor(){const t=new dt({deferredRedirect:!1});super(t.update.bind(t)),S.add(this),this.stepState=new dt({},{updateOnlyOnChange:!1}),st.set(this,void 0),H.set(this,null),wt.set(this,{visibilitychange:r(this,S,"m",Fe).bind(this)}),at.set(this,(e,o,n,s,a)=>{n===Zt&&U(this,st,setTimeout(()=>p(this,void 0,void 0,function*(){var d;let c;try{c=yield this.sdk.flow.next(e,o,ee,s,a,{})}catch{r(this,at,"f").call(this,e,o,n,s,a)}r(this,K,"f").call(this,c);const{action:l}=(d=c==null?void 0:c.data)!==null&&d!==void 0?d:{};r(this,at,"f").call(this,e,o,l,s,a)}),2e3),"f")}),Ve.set(this,()=>{clearTimeout(r(this,st,"f")),U(this,st,null,"f")}),K.set(this,e=>{var o,n,s,a,d,c,l,u,h,f,w;if(!(e!=null&&e.ok)){r(this,S,"m",lt).call(this,"error",e==null?void 0:e.error);const $=(o=e==null?void 0:e.response)===null||o===void 0?void 0:o.url,q=`${(n=e==null?void 0:e.response)===null||n===void 0?void 0:n.status} - ${(s=e==null?void 0:e.response)===null||s===void 0?void 0:s.statusText}`;return void this.loggerWrapper.error(((a=e==null?void 0:e.error)===null||a===void 0?void 0:a.errorDescription)||$,((d=e==null?void 0:e.error)===null||d===void 0?void 0:d.errorMessage)||q)}(l=(c=e.data)===null||c===void 0?void 0:c.runnerLogs)===null||l===void 0||l.forEach($=>{const{level:q,title:ot,log:nt}=$;q&&this.loggerWrapper[q]?this.loggerWrapper[q](ot,nt):this.loggerWrapper.info(ot,nt)});const b=(f=(h=(u=e.data)===null||u===void 0?void 0:u.screen)===null||h===void 0?void 0:h.state)===null||f===void 0?void 0:f.errorText;!((w=e.data)===null||w===void 0)&&w.error?this.loggerWrapper.error(`[${e.data.error.code}]: ${e.data.error.description}`,`${b?`${b} - `:""}${e.data.error.message}`):b&&this.loggerWrapper.error(b);const{status:y,authInfo:v,lastAuth:A}=e.data;if(y==="completed")return this.storeLastAuthenticatedUser&&function($){$!=null&&$.authMethod&&St&&localStorage.setItem(Ie,JSON.stringify($))}(A),void r(this,S,"m",lt).call(this,"success",v);const{executionId:j,stepId:V,stepName:B,action:_,screen:k,redirect:I,openInNewTabUrl:T,webauthn:C,error:N,samlIdpResponse:D}=e.data;_!==Zt?(this.loggerWrapper.info(`Step "${B||`#${V}`}" is ${y}`,"",{screen:k,status:y,stepId:V,stepName:B,action:_,error:N}),this.flowState.update({stepId:V,executionId:j,action:_,redirectTo:I==null?void 0:I.url,openInNewTabUrl:T,screenId:k==null?void 0:k.id,screenState:k==null?void 0:k.state,webauthnTransactionId:C==null?void 0:C.transactionId,webauthnOptions:C==null?void 0:C.options,samlIdpResponseUrl:D==null?void 0:D.url,samlIdpResponseSamlResponse:D==null?void 0:D.samlResponse,samlIdpResponseRelayState:D==null?void 0:D.relayState})):this.flowState.update({action:_})}),Wt.set(this,$t(()=>p(this,void 0,void 0,function*(){var e;try{const o=yield this.sdk.webauthn.signIn.start("",window.location.origin);return o.ok||this.loggerWrapper.warn("Webauthn start failed",(e=o==null?void 0:o.error)===null||e===void 0?void 0:e.errorMessage),o.data}catch(o){this.loggerWrapper.warn("Webauthn start failed",o.message)}}))),It.set(this,fi((e,o)=>p(this,void 0,void 0,function*(){if(e.getAttribute("formnovalidate")==="true"||r(this,S,"m",Be).call(this)){const s=e==null?void 0:e.getAttribute("id");r(this,S,"m",Je).call(this,e);const a=yield r(this,S,"m",ze).call(this),d=(n=e,Array.from((n==null?void 0:n.attributes)||[]).reduce((w,b)=>{var y;const v=(y=new RegExp("^data-descope-(\\S+)$").exec(b.name))===null||y===void 0?void 0:y[1];return v?Object.assign(w,{[v]:b.value}):w},{})),c=this.getComponentsContext(),l=Object.assign(Object.assign(Object.assign(Object.assign({},c),d),a),{origin:window.location.origin}),u=yield this.getFlowConfig(),h=yield this.getProjectConfig(),f=yield o(s,u.version,h.componentsVersion,l);r(this,K,"f").call(this,f),r(this,S,"m",Ge).call(this,a)}var n}))),this.flowState=t}loadSdkScripts(){return p(this,void 0,void 0,function*(){const t=(yield this.getFlowConfig()).sdkScripts;t==null||t.forEach(e=>p(this,void 0,void 0,function*(){(yield function(o){return p(this,void 0,void 0,function*(){let n;if(o==="forter")return n=yield ve(()=>import("./forter-74d50b85-c3a8ad35.js"),["./forter-74d50b85-c3a8ad35.js","./theme-74fe61d9.js","./theme-3d9cf53d.css"],import.meta.url),n.default;throw new Error(`Unknown script id: ${o}`)})}(e.id))(e.initArgs,{baseUrl:this.baseUrl},o=>{var n,s;this.dispatchEvent(new CustomEvent("components-context",{detail:{[(n=e.id,s=e.resultKey,`sdkScriptsResults.${s?`${n}_${s}`:n}`)]:o},bubbles:!0,composed:!0}))})}))})}connectedCallback(){const t=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});var e,o;return p(this,void 0,void 0,function*(){this.shadowRoot.isConnected&&((e=this.flowState)===null||e===void 0||e.subscribe(this.onFlowChange.bind(this)),(o=this.stepState)===null||o===void 0||o.subscribe(this.onStepChange.bind(this)),window.addEventListener("visibilitychange",r(this,wt,"f").visibilitychange)),yield t.connectedCallback.call(this)})}disconnectedCallback(){var t;super.disconnectedCallback(),this.flowState.unsubscribeAll(),this.stepState.unsubscribeAll(),(t=r(this,H,"f"))===null||t===void 0||t.abort(),U(this,H,null,"f"),window.removeEventListener("visibilitychange",r(this,wt,"f").visibilitychange)}getHtmlFilenameWithLocale(t,e){return p(this,void 0,void 0,function*(){let o;const n=jt(t);return(yield this.getTargetLocales()).includes(n)&&(o=`${e}-${n}.html`),o})}getPageContent(t,e){return p(this,void 0,void 0,function*(){if(e)try{const{body:o}=yield ht(e,"text");return o}catch(o){this.loggerWrapper.error(`Failed to fetch flow page from ${e}. Fallback to url ${t}`,o)}try{const{body:o}=yield ht(t,"text");return o}catch(o){this.loggerWrapper.error("Failed to fetch flow page",o.message)}return null})}onFlowChange(t,e,o){var n,s;return p(this,void 0,void 0,function*(){const{projectId:a,flowId:d,tenant:c,stepId:l,executionId:u,action:h,screenId:f,screenState:w,redirectTo:b,openInNewTabUrl:y,redirectUrl:v,token:A,code:j,exchangeError:V,webauthnTransactionId:B,webauthnOptions:_,redirectAuthCodeChallenge:k,redirectAuthCallbackUrl:I,redirectAuthBackupCallbackUri:T,redirectAuthInitiator:C,oidcIdpStateId:N,locale:D,samlIdpStateId:$,samlIdpUsername:q,descopeIdpInitiated:ot,samlIdpResponseUrl:nt,samlIdpResponseSamlResponse:Rt,samlIdpResponseRelayState:Ze,ssoAppId:ft,oidcLoginHint:G,oidcPrompt:rt}=t;let Q,gt;const vt=(()=>{const g=localStorage.getItem(de);if(!g){const L=Math.floor(100*Math.random()+1);return localStorage.setItem(de,L.toString()),L}return Number(g)})(),X=this.sdk.getLastUserLoginId(),R=yield this.getFlowConfig(),mt=yield this.getProjectConfig(),Mt=I&&k?{callbackUrl:I,codeChallenge:k,backupCallbackUri:T}:void 0;if(!u&&(this.loadSdkScripts(),R.fingerprintEnabled&&R.fingerprintKey?yield ei(R.fingerprintKey,this.baseUrl):ii(),R.conditions?{startScreenId:Q,conditionInteractionId:gt}=((g,L)=>{const W=L==null?void 0:L.find(({key:x,operator:M,predicate:ti})=>{var Ut;if(x==="ELSE")return!0;const Nt=(Ut=ae[x])===null||Ut===void 0?void 0:Ut[M];return!!(Nt!=null&&Nt(g,ti))});return W?{startScreenId:W.met.screenId,conditionInteractionId:W.met.interactionId}:{}})({loginId:X,code:j,token:A,abTestingKey:vt},R.conditions):R.condition?{startScreenId:Q,conditionInteractionId:gt}=((g,L)=>{var W;const x=(W=ae[g==null?void 0:g.key])===null||W===void 0?void 0:W[g.operator];if(!x)return{};const M=x(L,g.predicate)?g.met:g.unmet;return{startScreenId:M==null?void 0:M.screenId,conditionInteractionId:M==null?void 0:M.interactionId}})(R.condition,{loginId:X,code:j,token:A,abTestingKey:vt}):Q=R.startScreenId,!ie(Q,N,$,q,ft,G,rt))){const g=yield this.sdk.flow.start(d,Object.assign(Object.assign({tenant:c,redirectAuth:Mt,oidcIdpStateId:N,samlIdpStateId:$,samlIdpUsername:q,ssoAppId:ft,oidcLoginHint:G,oidcPrompt:rt,client:this.client},v&&{redirectUrl:v}),{lastAuth:le(X),abTestingKey:vt,locale:jt(D)}),gt,"",R.version,mt.componentsVersion,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.formConfigValues),j?{exchangeCode:j,idpInitiated:!0}:{}),ot&&{idpInitiated:!0}),A?{token:A}:{}),G?{externalId:G}:{}));return r(this,K,"f").call(this,g),void(((n=g==null?void 0:g.data)===null||n===void 0?void 0:n.status)!=="completed"&&this.flowState.update({code:void 0,token:void 0}))}if(u&&(o("token")&&A||o("code")&&j||o("exchangeError")&&V)){const g=yield this.sdk.flow.next(u,l,te,R.version,mt.componentsVersion,{token:A,exchangeCode:j,exchangeError:V});return r(this,K,"f").call(this,g),void this.flowState.update({token:void 0,code:void 0,exchangeError:void 0})}if(h===di&&["samlIdpResponseUrl","samlIdpResponseSamlResponse","samlIdpResponseRelayState"].some(g=>o(g))){if(!nt||!Rt)return void this.loggerWrapper.error("Did not get saml idp params data to load");((g,L,W,x)=>{const M=document.createElement("form");M.method="POST",M.action=g,M.innerHTML=`
  <input type="hidden" role="saml-response" name="SAMLResponse" value="${L}" />
  <input type="hidden" role="saml-relay-state" name="RelayState" value="${W}" />
  <input style="display: none;" id="SAMLSubmitButton" type="submit" value="Continue" />
  `,document.body.appendChild(M),x(M)})(nt,Rt,Ze||"",pi)}if(h===ai&&(o("redirectTo")||o("deferredRedirect")))return b?C==="android"&&document.hidden?void this.flowState.update({deferredRedirect:!0}):void window.location.assign(b):void this.loggerWrapper.error("Did not get redirect url");if(h===Xt||h===li){if(!B||!_)return void this.loggerWrapper.error("Did not get webauthn transaction id or options");let g,L;(s=r(this,H,"f"))===null||s===void 0||s.abort(),U(this,H,null,"f");try{g=h===Xt?yield this.sdk.webauthn.helpers.create(_):yield this.sdk.webauthn.helpers.get(_)}catch(x){x.name==="InvalidStateError"?this.loggerWrapper.warn("WebAuthn operation failed",x.message):x.name!=="NotAllowedError"&&this.loggerWrapper.error(x.message),L=x.name}const W=yield this.sdk.flow.next(u,l,te,R.version,mt.componentsVersion,{transactionId:B,response:g,failure:L});r(this,K,"f").call(this,W)}if(r(this,at,"f").call(this,u,l,h,R.version,mt.componentsVersion),!f&&!Q)return void this.loggerWrapper.warn("No screen was found to show");const Pt=Q||f,_t=yield this.getHtmlFilenameWithLocale(D,Pt),Et={direction:ui(l,e.stepId),screenState:Object.assign(Object.assign({},w),{form:Object.assign(Object.assign({},this.formConfigValues),w==null?void 0:w.form),lastAuth:{loginId:X,name:this.sdk.getLastUserDisplayName()||X}}),htmlUrl:pt({projectId:a,filename:`${Pt}.html`,baseUrl:this.baseStaticUrl}),htmlLocaleUrl:_t&&pt({projectId:a,filename:_t,baseUrl:this.baseStaticUrl}),samlIdpUsername:q,oidcLoginHint:G,oidcPrompt:rt,openInNewTabUrl:y},Xe=le(X);ie(Q,N,$,q,ft,G,rt)?Et.next=(g,L,W,x)=>this.sdk.flow.start(d,Object.assign(Object.assign({tenant:c,redirectAuth:Mt,oidcIdpStateId:N,samlIdpStateId:$,samlIdpUsername:q,ssoAppId:ft,oidcLoginHint:G,lastAuth:Xe,preview:this.preview,abTestingKey:vt,client:this.client},v&&{redirectUrl:v}),{locale:jt(D),oidcPrompt:rt}),gt,g,L,W,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.formConfigValues),x),j&&{exchangeCode:j,idpInitiated:!0}),ot&&{idpInitiated:!0}),A&&{token:A})):(o("projectId")||o("baseUrl")||o("executionId")||o("stepId"))&&(Et.next=(...g)=>this.sdk.flow.next(u,l,...g)),this.stepState.update(Et)})}loadDescopeUiComponents(t){return p(this,void 0,void 0,function*(){const e=yield P.descopeUI;if(!e)return;const o=(n=>[...Array.from(n.querySelectorAll("*")).reduce((s,a)=>a.tagName.startsWith("DESCOPE-")?s.add(a.tagName.toLocaleLowerCase()):s,new Set)])(t);yield Promise.all(o.map(n=>p(this,void 0,void 0,function*(){if(!customElements.get(n))if(e[n])try{return yield e[n]()}catch(s){if(s.name!=="NotSupportedError")throw s;console.debug(`${n} is already registered`)}else this.loggerWrapper.error(`Cannot load UI component "${n}"`,`Descope UI does not have a component named "${n}", available components are: "${Object.keys(e).join(", ")}"`)})))})}onStepChange(t,e){var o,n;return p(this,void 0,void 0,function*(){const{htmlUrl:s,htmlLocaleUrl:a,direction:d,next:c,screenState:l,openInNewTabUrl:u}=t,h=document.createElement("template");h.innerHTML=yield this.getPageContent(s,a);const f=h.content.cloneNode(!0),w=this.loadDescopeUiComponents(h.content);this.sdk.webauthn.helpers.isSupported()?yield r(this,S,"m",He).call(this,f,c):f.querySelectorAll(`descope-button[${At}="biometrics"]`).forEach(v=>v.setAttribute("disabled","true")),!t.samlIdpUsername||!((o=l.form)===null||o===void 0)&&o.loginId||!((n=l.form)===null||n===void 0)&&n.email||(l.form||(l.form={}),l.form.loginId=t.samlIdpUsername,l.form.email=t.samlIdpUsername),vi(f,l,l.componentsConfig,this.formConfig,this.errorTransformer,this.loggerWrapper);const{geo:b}=yield this.getExecutionContext();((v,A)=>{Array.from(v.querySelectorAll('descope-phone-field[default-code="autoDetect"]')).forEach(j=>{j.setAttribute("default-code",A)})})(f,b);const y=()=>p(this,void 0,void 0,function*(){var v,A;yield w;const j=this.shadowRoot.querySelector("div");var V,B;V=j,B=(v=l==null?void 0:l.totp)===null||v===void 0?void 0:v.image,se(V,"descope-totp-image",B),((k,I)=>{se(k,"descope-notp-image",I)})(j,(A=l==null?void 0:l.notp)===null||A===void 0?void 0:A.image),this.rootElement.replaceChildren(f),setTimeout(()=>{((C,N)=>{ne(C,N==null?void 0:N.inputs),ne(C,N==null?void 0:N.form)})(this.rootElement,l);const k=this.rootElement.querySelectorAll("descope-email-field"),I=this.rootElement.querySelectorAll("descope-password"),T=this.rootElement.querySelectorAll("descope-new-password");document.querySelectorAll('[data-hidden-input="true"]').forEach(C=>C.remove()),[...k,...I,...T].forEach(C=>r(this,S,"m",Ke).call(this,C))});const _=!e.htmlUrl;if(((k,I,T)=>{if(I===!0||I==="skipFirstScreen"&&!T){const C=k.querySelector("*[name]");setTimeout(()=>{C==null||C.focus()})}})(this.rootElement,this.autoFocus,_),this.validateOnBlur&&(k=>{k.querySelectorAll("*[name]").forEach(I=>{I.addEventListener("blur",()=>{var T;const C=I.focus;I.focus=()=>{},(T=I.reportValidity)===null||T===void 0||T.call(I),setTimeout(()=>{I.focus=C})})})})(this.rootElement),r(this,S,"m",Qe).call(this,c),_&&r(this,S,"m",lt).call(this,"ready",{}),r(this,S,"m",lt).call(this,"page-updated",{}),this.rootElement.querySelector(`[${At}="polling"]`)){const k=yield this.getFlowConfig(),I=yield this.getProjectConfig(),T=yield c(ee,k.version,I.componentsVersion,{});r(this,K,"f").call(this,T)}u&&!e.openInNewTabUrl&&window.open(u,"_blank")});d?r(this,S,"m",Ye).call(this,y,d):y()})}}st=new WeakMap,H=new WeakMap,wt=new WeakMap,at=new WeakMap,Ve=new WeakMap,K=new WeakMap,Wt=new WeakMap,It=new WeakMap,S=new WeakSet,Fe=function(){document.hidden||setTimeout(()=>{this.flowState.update({deferredRedirect:!1})},300)},fe=function(i){const t=i.getAttribute("name");if(!["email"].includes(t)){const e=`user-${t}`;i.setAttribute("name",e),i.addEventListener("input",()=>{i.setAttribute("name",i.value?t:e)})}},Ke=function(i){i&&i.getAttribute("external-input")==="true"&&i.querySelectorAll("input").forEach(t=>{const e=t.getAttribute("slot"),o=`input-${i.id}-${e}`,n=document.createElement("slot");n.setAttribute("name",o),n.setAttribute("slot",e),i.appendChild(n),t.setAttribute("slot",o),this.appendChild(t)})},He=function(i,t){var e;return p(this,void 0,void 0,function*(){(e=r(this,H,"f"))===null||e===void 0||e.abort();const o=i.querySelector('*[autocomplete="webauthn"]');if(o&&(yield mi())){const{options:n,transactionId:s}=(yield r(this,Wt,"f").call(this))||{};if(n&&s){r(this,S,"m",fe).call(this,o),U(this,H,new AbortController,"f");const a=yield this.getFlowConfig(),d=yield this.getProjectConfig();this.sdk.webauthn.helpers.conditional(n,r(this,H,"f")).then(c=>p(this,void 0,void 0,function*(){const l=yield t(o.id,a.version,d.componentsVersion,{transactionId:s,response:c});r(this,K,"f").call(this,l)})).catch(c=>{c.name!=="AbortError"&&this.loggerWrapper.error("Conditional login failed",c.message)})}}})},Be=function(){let i=!0;return Array.from(this.shadowRoot.querySelectorAll("*[name]")).reverse().forEach(t=>{var e,o;t.localName!=="slot"&&((e=t.reportValidity)===null||e===void 0||e.call(t),i&&(i=(o=t.checkValidity)===null||o===void 0?void 0:o.call(t)))}),i},ze=function(){return p(this,void 0,void 0,function*(){const i=Array.from(this.shadowRoot.querySelectorAll(`*[name]:not([${we}])`));return(yield Promise.all(i.map(t=>p(this,void 0,void 0,function*(){return{name:t.getAttribute("name"),value:t.value}})))).reduce((t,e)=>Object.assign(Object.assign({},t),{[e.name]:e.value}),{})})},Je=function(i){const t=this.nextRequestStatus.subscribe(({isLoading:e})=>{e?i.setAttribute("loading","true"):(this.nextRequestStatus.unsubscribe(t),i.removeAttribute("loading"))})},Ge=function(i={}){var t,e;const o=oe(i,["externalId","email","phone"]),n=oe(i,["newPassword","password"]);if(o&&n)try{if(!globalThis.PasswordCredential)return;const s=new globalThis.PasswordCredential({id:o,password:n});(e=(t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.store)===null||e===void 0||e.call(t,s)}catch(s){this.loggerWrapper.error("Could not store credentials",s.message)}},ge=function(i){this.rootElement.querySelectorAll('descope-passcode[data-auto-submit="true"]').forEach(t=>{t.addEventListener("input",()=>{var e;!((e=t.checkValidity)===null||e===void 0)&&e.call(t)&&r(this,It,"f").call(this,t,i)})})},Qe=function(i){this.rootElement.querySelectorAll("descope-button:not([data-exclude-next])").forEach(t=>{t.onclick=()=>{r(this,It,"f").call(this,t,i)}}),r(this,S,"m",ge).call(this,i)},Ye=function(i,t){this.rootElement.addEventListener("transitionend",()=>{this.rootElement.classList.remove("fade-out"),i()},{once:!0});const e=t===ut.forward?"slide-forward":"slide-backward";Array.from(this.rootElement.getElementsByClassName("input-container")).forEach((o,n)=>{o.style["transition-delay"]=40*n+"ms",o.classList.add(e)}),this.rootElement.classList.add("fade-out")},lt=function(i,t){this.dispatchEvent(new CustomEvent(i,{detail:t}))},customElements.get("descope-wc")?console.log("descope-wc is already defined"):customElements.define("descope-wc",bi);export{bi as g,dt as o};
