var jt=Object.defineProperty;var Ut=(t,e,n)=>e in t?jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var be=(t,e,n)=>(Ut(t,typeof e!="symbol"?e+"":e,n),n);import{a as d,b as M}from"./theme-74fe61d9.js";function j(...t){return e=>t.reduce((n,r)=>r(n),e)}const Nt=t=>{const e=document.createElement("template");return e.innerHTML=t,e},Pt=(...t)=>t.join("/").replace(/\/+/g,"/"),st=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]),Dr=t=>{let e,n;return(...r)=>(e&&st(e,r)||(e=r,n=t(...r)),n)},Sr=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_.]+/g,"-").toLowerCase(),Ar=t=>(e,...n)=>e.reduce((r,s,i)=>{var o;return`${r}${s}${((o=n==null?void 0:n[i])===null||o===void 0?void 0:o[t>1?1:0])||""}`},""),Tr=(t,e=500)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>t.apply(this,r),e)}},S=t=>{const e=Symbol((n=>{const r=n.toString();let s=0;for(let i=0;i<r.length;i++)s=(s<<5)-s+r.charCodeAt(i),s&=s;return s.toString(16)})(t));return n=>{if(n[e])return n;const r=t(n);return r[e]=!0,r}};var U,W,V,ie;function it(t,e){const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s+=1){const i=n[s],o=t[i],a=e[i];if(o===null||a===null){if(o!==a)return!1}else if(typeof o=="object"&&typeof a=="object"){if(!it(o,a))return!1}else if(o!==a)return!1}return!0}class Ft{constructor(e={},{updateOnlyOnChange:n=!0}={}){U.set(this,void 0),W.set(this,{}),V.set(this,0),ie.set(this,!1),this.update=r=>{const s=typeof r=="function"?r(d(this,U,"f")):r,i=Object.assign(Object.assign({},d(this,U,"f")),s);if(!d(this,ie,"f")||!it(d(this,U,"f"),i)){const o=d(this,U,"f");M(this,U,i,"f"),Object.freeze(d(this,U,"f")),setTimeout(()=>{Object.values(d(this,W,"f")).forEach(a=>a(i,o,((c,u)=>l=>c[l]!==u[l])(i,o)))},0)}},M(this,U,e,"f"),M(this,ie,n,"f")}get current(){return Object.assign({},d(this,U,"f"))}subscribe(e){return M(this,V,d(this,V,"f")+1,"f"),d(this,W,"f")[d(this,V,"f")]=e,d(this,V,"f").toString()}unsubscribe(e){const n=!!d(this,W,"f")[e];return n&&delete d(this,W,"f")[e],n}unsubscribeAll(){return M(this,W,{},"f"),!0}}U=new WeakMap,W=new WeakMap,V=new WeakMap,ie=new WeakMap;var z,oe;class T{constructor(e,n){z.set(this,void 0),this.nodeName="",M(this,z,e,"f"),this.logger=n.logger}get asyncEle(){return(async(e,n)=>new Promise(r=>{const s=setInterval(()=>{const i=typeof e=="function"?e():e;i&&(clearInterval(s),r(i))},100);setTimeout(()=>{clearInterval(s),r(null)},n)}))(d(this,z,"f"),1e3)}get ele(){var e,n;const r=typeof d(this,z,"f")=="function"?d(this,z,"f").call(this):d(this,z,"f");return r?(r==null?void 0:r.localName)!==this.nodeName?((n=this.logger)===null||n===void 0||n.debug(`node name do not match, expected "${this.nodeName}", received "${r.localName}" `,Error()),null):r:((e=this.logger)===null||e===void 0||e.debug("no element for driver ",this.constructor.name,new Error),null)}}z=new WeakMap;const $t=/^descope-grid-([^-]+)-column$/,Wt={text:class extends T{constructor(){super(...arguments),this.nodeName="descope-grid-text-column"}onSortDirectionChange(t){var e;return(e=this.ele)===null||e===void 0||e.addEventListener("direction-changed",t),()=>{var n;return(n=this.ele)===null||n===void 0?void 0:n.removeEventListener("selected-items-changed",t)}}},custom:class extends T{constructor(){super(...arguments),this.nodeName="descope-grid-custom-column"}onSortDirectionChange(t){var e;return(e=this.ele)===null||e===void 0||e.addEventListener("direction-changed",t),()=>{var n;return(n=this.ele)===null||n===void 0?void 0:n.removeEventListener("selected-items-changed",t)}}}};class kr extends T{constructor(){super(...arguments),this.nodeName="descope-grid",oe.set(this,void 0)}onSelectedItemsChange(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("selected-items-changed",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("selected-items-changed",e)}}get ele(){return super.ele}get data(){var e;return(e=this.ele)===null||e===void 0?void 0:e.data}set data(e){this.ele&&(this.ele.data=e)}get columns(){return this.ele?Array.from(this.ele.children).reduce((e,n)=>{var r;const s=(r=$t.exec(n.localName))===null||r===void 0?void 0:r[1],i=Wt[s];return i&&e.push(new i(n,{logger:this.logger})),e},[]):[]}filterColumns(e){var n,r;const s=(n=this.ele.columns)===null||n===void 0?void 0:n.filter(e);st(s,this.ele.columns)||(this.ele.columns=s,(r=d(this,oe,"f"))===null||r===void 0||r.call(this,s))}onColumnsChange(e){M(this,oe,e,"f")}set renderColumn(e){this.ele.renderColumn=e}}oe=new WeakMap;class Or extends T{constructor(){super(...arguments),this.nodeName="descope-button"}onClick(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("click",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("click",e)}}disable(){var e;(e=this.ele)===null||e===void 0||e.setAttribute("disabled","true")}enable(){var e;(e=this.ele)===null||e===void 0||e.removeAttribute("disabled")}}var Y;class zt extends T{constructor(){super(...arguments),Y.set(this,void 0),this.nodeName="descope-modal"}close(){var e,n;(e=this.ele)===null||e===void 0||e.removeAttribute("opened"),(n=this.afterClose)===null||n===void 0||n.call(this)}async open(){var e,n;await((e=this.beforeOpen)===null||e===void 0?void 0:e.call(this)),(n=this.ele)===null||n===void 0||n.setAttribute("opened","true")}reset(){var e;this.ele&&(this.ele.innerHTML=""),d(this,Y,"f")&&((e=this.ele)===null||e===void 0||e.append(d(this,Y,"f").content.cloneNode(!0)))}setContent(e){M(this,Y,e,"f"),this.reset()}remove(){var e;(e=this.ele)===null||e===void 0||e.remove()}}Y=new WeakMap;class Ir extends T{constructor(){super(...arguments),this.nodeName="descope-multi-select-combo-box"}async setData(e){var n;(n=await this.asyncEle)===null||n===void 0||n.setAttribute("data",JSON.stringify(e.sort()))}}class Lr extends T{constructor(){super(...arguments),this.nodeName="descope-combo-box"}onInput(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("input",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("input",e)}}get value(){var e;return(e=this.ele)===null||e===void 0?void 0:e.value}set value(e){this.ele&&(this.ele.value=e)}async setData(e){var n;(n=await this.asyncEle)===null||n===void 0||n.setAttribute("data",JSON.stringify(e.sort()))}}class Bt extends T{constructor(){super(...arguments),this.nodeName="descope-notification"}close(){var e;(e=this.ele)===null||e===void 0||e.removeAttribute("opened")}show(){var e;(e=this.ele)===null||e===void 0||e.setAttribute("opened","true")}setContent(e){this.ele.innerHTML="",this.ele.appendChild(e.content.cloneNode(!0))}remove(){var e;(e=this.ele)===null||e===void 0||e.remove()}}class Rr extends T{constructor(){super(...arguments),this.nodeName="descope-text"}get ele(){return super.ele}get text(){var e;return(e=this.ele)===null||e===void 0?void 0:e.innerText}set text(e){this.ele&&(this.ele.innerText=e)}}class jr extends T{constructor(){super(...arguments),this.nodeName="descope-text-field"}onInput(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("input",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("input",e)}}get value(){var e;return(e=this.ele)===null||e===void 0?void 0:e.value}set value(e){this.ele&&(this.ele.value=e)}disable(){var e;(e=this.ele)===null||e===void 0||e.setAttribute("disabled","true")}enable(){var e;(e=this.ele)===null||e===void 0||e.removeAttribute("disabled")}}class Ur extends T{constructor(){super(...arguments),this.nodeName="descope-avatar"}set displayName(e){var n;(n=this.ele)===null||n===void 0||n.setAttribute("display-name",e)}set image(e){var n;(n=this.ele)===null||n===void 0||n.setAttribute("img",e)}get flowId(){var e;return(e=this.ele)===null||e===void 0?void 0:e.getAttribute("flow-id")}onClick(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("click",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("click",e)}}}class Nr extends T{constructor(){super(...arguments),this.nodeName="descope-user-attribute"}set value(e){var n;(n=this.ele)===null||n===void 0||n.setAttribute("value",e)}set badgeLabel(e){var n;(n=this.ele)===null||n===void 0||n.setAttribute("badge-label",e)}get label(){var e;return((e=this.ele)===null||e===void 0?void 0:e.getAttribute("label"))||""}get editFlowId(){var e;return((e=this.ele)===null||e===void 0?void 0:e.getAttribute("edit-flow-id"))||""}get deleteFlowId(){var e;return((e=this.ele)===null||e===void 0?void 0:e.getAttribute("delete-flow-id"))||""}onEditClick(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("edit-clicked",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("edit-clicked",e)}}onDeleteClick(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("delete-clicked",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("delete-clicked",e)}}}class Pr extends T{constructor(){super(...arguments),this.nodeName="descope-user-auth-method"}set fulfilled(e){var n,r;e?(n=this.ele)===null||n===void 0||n.setAttribute("fulfilled","true"):(r=this.ele)===null||r===void 0||r.removeAttribute("fulfilled")}onButtonClick(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("button-clicked",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("button-clicked",e)}}get flowId(){var e;return(e=this.ele)===null||e===void 0?void 0:e.getAttribute("flow-id")}}class Fr extends T{constructor(){super(...arguments),this.nodeName="descope-wc"}set projectId(e){var n;(n=this.ele)===null||n===void 0||n.setAttribute("project-id",e)}set baseUrl(e){var n;(n=this.ele)===null||n===void 0||n.setAttribute("base-url",e)}set flowId(e){var n;(n=this.ele)===null||n===void 0||n.setAttribute("flow-id",e)}onSuccess(e){var n;return(n=this.ele)===null||n===void 0||n.addEventListener("success",e),()=>{var r;return(r=this.ele)===null||r===void 0?void 0:r.removeEventListener("success",e)}}}function D(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ht=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),ze=Ht,ye=()=>Math.random().toString(36).substring(7).split("").join("."),qt={INIT:`@@redux/INIT${ye()}`,REPLACE:`@@redux/REPLACE${ye()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ye()}`},le=qt;function Le(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ot(t,e,n){if(typeof t!="function")throw new Error(D(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(D(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(D(1));return n(ot)(t,e)}let r=t,s=e,i=new Map,o=i,a=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((m,b)=>{o.set(b,m)}))}function l(){if(c)throw new Error(D(3));return s}function h(m){if(typeof m!="function")throw new Error(D(4));if(c)throw new Error(D(5));let b=!0;u();const y=a++;return o.set(y,m),function(){if(b){if(c)throw new Error(D(6));b=!1,u(),o.delete(y),i=null}}}function f(m){if(!Le(m))throw new Error(D(7));if(typeof m.type>"u")throw new Error(D(8));if(typeof m.type!="string")throw new Error(D(17));if(c)throw new Error(D(9));try{c=!0,s=r(s,m)}finally{c=!1}return(i=o).forEach(y=>{y()}),m}function v(m){if(typeof m!="function")throw new Error(D(10));r=m,f({type:le.REPLACE})}function g(){const m=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(D(11));function y(){const w=b;w.next&&w.next(l())}return y(),{unsubscribe:m(y)}},[ze](){return this}}}return f({type:le.INIT}),{dispatch:f,subscribe:h,getState:l,replaceReducer:v,[ze]:g}}function Kt(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:le.INIT})>"u")throw new Error(D(12));if(typeof n(void 0,{type:le.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(D(13))})}function Vt(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let s;try{Kt(n)}catch(i){s=i}return function(o={},a){if(s)throw s;let c=!1;const u={};for(let l=0;l<r.length;l++){const h=r[l],f=n[h],v=o[h],g=f(v,a);if(typeof g>"u")throw a&&a.type,new Error(D(14));u[h]=g,c=c||g!==v}return c=c||r.length!==Object.keys(o).length,c?u:o}}function ue(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Gt(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(D(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},a=t.map(c=>c(o));return i=ue(...a)(s.dispatch),{...s,dispatch:i}}}function Xt(t){return Le(t)&&"type"in t&&typeof t.type=="string"}var at=Symbol.for("immer-nothing"),Be=Symbol.for("immer-draftable"),O=Symbol.for("immer-state");function R(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var G=Object.getPrototypeOf;function $(t){return!!t&&!!t[O]}function P(t){var e;return t?ct(t)||Array.isArray(t)||!!t[Be]||!!((e=t.constructor)!=null&&e[Be])||ge(t)||me(t):!1}var Yt=Object.prototype.constructor.toString();function ct(t){if(!t||typeof t!="object")return!1;const e=G(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Yt}function de(t,e){pe(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function pe(t){const e=t[O];return e?e.type_:Array.isArray(t)?1:ge(t)?2:me(t)?3:0}function De(t,e){return pe(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lt(t,e,n){const r=pe(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Zt(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ge(t){return t instanceof Map}function me(t){return t instanceof Set}function B(t){return t.copy_||t.base_}function Se(t,e){if(ge(t))return new Map(t);if(me(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ct(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[O];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(G(t),r)}else{const r=G(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function Re(t,e=!1){return ve(t)||$(t)||!P(t)||(pe(t)>1&&(t.set=t.add=t.clear=t.delete=Jt),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Re(r,!0))),t}function Jt(){R(2)}function ve(t){return Object.isFrozen(t)}var Qt={};function q(t){const e=Qt[t];return e||R(0,t),e}var ee;function ut(){return ee}function en(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function He(t,e){e&&(q("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ae(t){Te(t),t.drafts_.forEach(tn),t.drafts_=null}function Te(t){t===ee&&(ee=t.parent_)}function qe(t){return ee=en(ee,t)}function tn(t){const e=t[O];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Ke(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[O].modified_&&(Ae(e),R(4)),P(t)&&(t=fe(e,t),e.parent_||he(e,t)),e.patches_&&q("Patches").generateReplacementPatches_(n[O].base_,t,e.patches_,e.inversePatches_)):t=fe(e,n,[]),Ae(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==at?t:void 0}function fe(t,e,n){if(ve(e))return e;const r=e[O];if(!r)return de(e,(s,i)=>Ve(t,r,e,s,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return he(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),de(i,(a,c)=>Ve(t,r,s,a,c,n,o)),he(t,s,!1),n&&t.patches_&&q("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Ve(t,e,n,r,s,i,o){if($(s)){const a=i&&e&&e.type_!==3&&!De(e.assigned_,r)?i.concat(r):void 0,c=fe(t,s,a);if(lt(n,r,c),$(c))t.canAutoFreeze_=!1;else return}else o&&n.add(s);if(P(s)&&!ve(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fe(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&he(t,s)}}function he(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Re(e,n)}function nn(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:ut(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=je;n&&(s=[r],i=te);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var je={get(t,e){if(e===O)return t;const n=B(t);if(!De(n,e))return rn(t,n,e);const r=n[e];return t.finalized_||!P(r)?r:r===_e(t.base_,e)?(we(t),t.copy_[e]=Oe(r,t)):r},has(t,e){return e in B(t)},ownKeys(t){return Reflect.ownKeys(B(t))},set(t,e,n){const r=dt(B(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=_e(B(t),e),i=s==null?void 0:s[O];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Zt(n,s)&&(n!==void 0||De(t.base_,e)))return!0;we(t),ke(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _e(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,we(t),ke(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=B(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){R(11)},getPrototypeOf(t){return G(t.base_)},setPrototypeOf(){R(12)}},te={};de(je,(t,e)=>{te[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});te.deleteProperty=function(t,e){return te.set.call(this,t,e,void 0)};te.set=function(t,e,n){return je.set.call(this,t[0],e,n,t[0])};function _e(t,e){const n=t[O];return(n?B(n):t)[e]}function rn(t,e,n){var s;const r=dt(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function dt(t,e){if(!(e in t))return;let n=G(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=G(n)}}function ke(t){t.modified_||(t.modified_=!0,t.parent_&&ke(t.parent_))}function we(t){t.copy_||(t.copy_=Se(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var sn=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const o=this;return function(c=i,...u){return o.produce(c,l=>n.call(this,l,...u))}}typeof n!="function"&&R(6),r!==void 0&&typeof r!="function"&&R(7);let s;if(P(e)){const i=qe(this),o=Oe(e,void 0);let a=!0;try{s=n(o),a=!1}finally{a?Ae(i):Te(i)}return He(i,r),Ke(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===at&&(s=void 0),this.autoFreeze_&&Re(s,!0),r){const i=[],o=[];q("Patches").generateReplacementPatches_(e,s,i,o),r(i,o)}return s}else R(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a));let r,s;return[this.produce(e,n,(o,a)=>{r=o,s=a}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){P(t)||R(8),$(t)&&(t=ft(t));const e=qe(this),n=Oe(t,void 0);return n[O].isManual_=!0,Te(e),n}finishDraft(t,e){const n=t&&t[O];(!n||!n.isManual_)&&R(9);const{scope_:r}=n;return He(r,e),Ke(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=q("Patches").applyPatches_;return $(t)?r(t,e):this.produce(t,s=>r(s,e))}};function Oe(t,e){const n=ge(t)?q("MapSet").proxyMap_(t,e):me(t)?q("MapSet").proxySet_(t,e):nn(t,e);return(e?e.scope_:ut()).drafts_.push(n),n}function ft(t){return $(t)||R(10,t),ht(t)}function ht(t){if(!P(t)||ve(t))return t;const e=t[O];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Se(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Se(t,!0);return de(n,(r,s)=>{lt(n,r,ht(s))}),e&&(e.finalized_=!1),n}var I=new sn,pt=I.produce;I.produceWithPatches.bind(I);I.setAutoFreeze.bind(I);I.setUseStrictShallowCopy.bind(I);I.applyPatches.bind(I);I.createDraft.bind(I);I.finishDraft.bind(I);function on(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function an(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function cn(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Ge=t=>Array.isArray(t)?t:[t];function ln(t){const e=Array.isArray(t[0])?t[0]:t;return cn(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function un(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var dn=class{constructor(t){this.value=t}deref(){return this.value}},fn=typeof WeakRef<"u"?WeakRef:dn,hn=0,Xe=1;function ne(){return{s:hn,v:void 0,o:null,p:null}}function Ue(t,e={}){let n=ne();const{resultEqualityCheck:r}=e;let s,i=0;function o(){var h;let a=n;const{length:c}=arguments;for(let f=0,v=c;f<v;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const m=p.get(g);m===void 0?(a=ne(),p.set(g,a)):a=m}else{let p=a.p;p===null&&(a.p=p=new Map);const m=p.get(g);m===void 0?(a=ne(),p.set(g,a)):a=m}}const u=a;let l;if(a.s===Xe)l=a.v;else if(l=t.apply(null,arguments),i++,r){const f=((h=s==null?void 0:s.deref)==null?void 0:h.call(s))??s;f!=null&&r(f,l)&&(l=f,i!==0&&i--),s=typeof l=="object"&&l!==null||typeof l=="function"?new fn(l):l}return u.s=Xe,u.v=l,l}return o.clearCache=()=>{n=ne(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function gt(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let i=0,o=0,a,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),on(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const l={...n,...c},{memoize:h,memoizeOptions:f=[],argsMemoize:v=Ue,argsMemoizeOptions:g=[],devModeChecks:p={}}=l,m=Ge(f),b=Ge(g),y=ln(s),_=h(function(){return i++,u.apply(null,arguments)},...m),w=v(function(){o++;const x=un(y,arguments);return a=_.apply(null,x),a},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:_,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var pn=gt(Ue),gn=Object.assign((t,e=pn)=>{an(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((o,a,c)=>(o[n[c]]=a,o),{}))},{withTypes:()=>gn});function mt(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var mn=mt(),vn=mt,bn=(...t)=>{const e=gt(...t),n=Object.assign((...r)=>{const s=e(...r),i=(o,...a)=>s($(o)?ft(o):o,...a);return Object.assign(i,s),i},{withTypes:()=>n});return n};bn(Ue);var yn=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ue:ue.apply(null,arguments)},_n=t=>t&&typeof t.match=="function";function N(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(A(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Xt(r)&&r.type===t,n}var vt=class Z extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Z.prototype)}static get[Symbol.species](){return Z}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Z(...e[0].concat(this)):new Z(...e.concat(this))}};function Ye(t){return P(t)?pt(t,()=>{}):t}function Ze(t,e,n){if(t.has(e)){let s=t.get(e);return n.update&&(s=n.update(s,e,t),t.set(e,s)),s}if(!n.insert)throw new Error(A(10));const r=n.insert(e,t);return t.set(e,r),r}function wn(t){return typeof t=="boolean"}var Cn=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let o=new vt;return n&&(wn(n)?o.push(mn):o.push(vn(n.extraArgument))),o},xn="RTK_autoBatch",bt=t=>e=>{setTimeout(e,t)},En=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bt(10),Mn=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,o=!1;const a=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?En:t.type==="callback"?t.queueNotification:bt(t.timeout),u=()=>{o=!1,i&&(i=!1,a.forEach(l=>l()))};return Object.assign({},r,{subscribe(l){const h=()=>s&&l(),f=r.subscribe(h);return a.add(l),()=>{f(),a.delete(l)}},dispatch(l){var h;try{return s=!((h=l==null?void 0:l.meta)!=null&&h[xn]),i=!s,i&&(o||(o=!0,c(u))),r.dispatch(l)}finally{s=!0}}})},Dn=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new vt(t);return r&&s.push(Mn(typeof r=="object"?r:void 0)),s},Sn=!0;function An(t){const e=Cn(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Le(n))a=Vt(n);else throw new Error(A(1));let c;typeof r=="function"?c=r(e):c=e();let u=ue;s&&(u=yn({trace:!Sn,...typeof s=="object"&&s}));const l=Gt(...c),h=Dn(l);let f=typeof o=="function"?o(h):h();const v=u(...f);return ot(a,i,v)}function yt(t){const e={},n=[];let r;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(A(28));if(a in e)throw new Error(A(29));return e[a]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function Tn(t){return typeof t=="function"}function kn(t,e){let[n,r,s]=yt(e),i;if(Tn(t))i=()=>Ye(t());else{const a=Ye(t);i=()=>a}function o(a=i(),c){let u=[n[c.type],...r.filter(({matcher:l})=>l(c)).map(({reducer:l})=>l)];return u.filter(l=>!!l).length===0&&(u=[s]),u.reduce((l,h)=>{if(h)if($(l)){const v=h(l,c);return v===void 0?l:v}else{if(P(l))return pt(l,f=>h(f,c));{const f=h(l,c);if(f===void 0){if(l===null)return l;throw new Error(A(9))}return f}}return l},a)}return o.getInitialState=i,o}var On="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_t=(t=21)=>{let e="",n=t;for(;n--;)e+=On[Math.random()*64|0];return e},In=(t,e)=>_n(t)?t.match(e):t(e);function Ln(...t){return e=>t.some(n=>In(n,e))}var Rn=["name","message","stack","code"],Ce=class{constructor(t,e){be(this,"_type");this.payload=t,this.meta=e}},Je=class{constructor(t,e){be(this,"_type");this.payload=t,this.meta=e}},jn=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of Rn)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},$r=(()=>{function t(e,n,r){const s=N(e+"/fulfilled",(c,u,l,h)=>({payload:c,meta:{...h||{},arg:l,requestId:u,requestStatus:"fulfilled"}})),i=N(e+"/pending",(c,u,l)=>({payload:void 0,meta:{...l||{},arg:u,requestId:c,requestStatus:"pending"}})),o=N(e+"/rejected",(c,u,l,h,f)=>({payload:h,error:(r&&r.serializeError||jn)(c||"Rejected"),meta:{...f||{},arg:l,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(u,l,h)=>{const f=r!=null&&r.idGenerator?r.idGenerator(c):_t(),v=new AbortController;let g,p;function m(y){p=y,v.abort()}const b=async function(){var w,E;let y;try{let x=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,c,{getState:l,extra:h});if(Un(x)&&(x=await x),x===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const L=new Promise((C,F)=>{g=()=>{F({name:"AbortError",message:p||"Aborted"})},v.signal.addEventListener("abort",g)});u(i(f,c,(E=r==null?void 0:r.getPendingMeta)==null?void 0:E.call(r,{requestId:f,arg:c},{getState:l,extra:h}))),y=await Promise.race([L,Promise.resolve(n(c,{dispatch:u,getState:l,extra:h,requestId:f,signal:v.signal,abort:m,rejectWithValue:(C,F)=>new Ce(C,F),fulfillWithValue:(C,F)=>new Je(C,F)})).then(C=>{if(C instanceof Ce)throw C;return C instanceof Je?s(C.payload,f,c,C.meta):s(C,f,c)})])}catch(x){y=x instanceof Ce?o(null,f,c,x.payload,x.meta):o(x,f,c)}finally{g&&v.signal.removeEventListener("abort",g)}return r&&!r.dispatchConditionRejection&&o.match(y)&&y.meta.condition||u(y),y}();return Object.assign(b,{abort:m,requestId:f,arg:c,unwrap(){return b.then(wt)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:s,settled:Ln(o,s),typePrefix:e})}return t.withTypes=()=>t,t})();function wt(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Un(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Nn=Symbol.for("rtk-slice-createasyncthunk");function Pn(t,e){return`${t}/${e}`}function Fn({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Nn];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(A(11));typeof process<"u";const a=(typeof s.reducers=="function"?s.reducers(zn()):s.reducers)||{},c=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(_,w){const E=typeof _=="string"?_:_.type;if(!E)throw new Error(A(12));if(E in u.sliceCaseReducersByType)throw new Error(A(13));return u.sliceCaseReducersByType[E]=w,l},addMatcher(_,w){return u.sliceMatchers.push({matcher:_,reducer:w}),l},exposeAction(_,w){return u.actionCreators[_]=w,l},exposeCaseReducer(_,w){return u.sliceCaseReducersByName[_]=w,l}};c.forEach(_=>{const w=a[_],E={reducerName:_,type:Pn(i,_),createNotation:typeof s.reducers=="function"};Hn(w)?Kn(E,w,l,e):Bn(E,w,l)});function h(){const[_={},w=[],E=void 0]=typeof s.extraReducers=="function"?yt(s.extraReducers):[s.extraReducers],x={..._,...u.sliceCaseReducersByType};return kn(s.initialState,L=>{for(let C in x)L.addCase(C,x[C]);for(let C of u.sliceMatchers)L.addMatcher(C.matcher,C.reducer);for(let C of w)L.addMatcher(C.matcher,C.reducer);E&&L.addDefaultCase(E)})}const f=_=>_,v=new Map;let g;function p(_,w){return g||(g=h()),g(_,w)}function m(){return g||(g=h()),g.getInitialState()}function b(_,w=!1){function E(L){let C=L[_];return typeof C>"u"&&w&&(C=m()),C}function x(L=f){const C=Ze(v,w,{insert:()=>new WeakMap});return Ze(C,L,{insert:()=>{const F={};for(const[Lt,Rt]of Object.entries(s.selectors??{}))F[Lt]=$n(Rt,L,m,w);return F}})}return{reducerPath:_,getSelectors:x,get selectors(){return x(E)},selectSlice:E}}const y={name:i,reducer:p,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:m,...b(o),injectInto(_,{reducerPath:w,...E}={}){const x=w??o;return _.inject({reducerPath:x,reducer:p},E),{...y,...b(x,!0)}}};return y}}function $n(t,e,n,r){function s(i,...o){let a=e(i);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return s.unwrapped=t,s}var Wn=Fn();function zn(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Bn({type:t,reducerName:e,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!qn(r))throw new Error(A(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?N(t,o):N(t))}function Hn(t){return t._reducerDefinitionType==="asyncThunk"}function qn(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Kn({type:t,reducerName:e},n,r,s){if(!s)throw new Error(A(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:c,settled:u,options:l}=n,h=s(t,i,l);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||re,pending:a||re,rejected:c||re,settled:u||re})}function re(){}var Vn=(t,e)=>{if(typeof t!="function")throw new Error(A(32))},Ne="listenerMiddleware",Gn=t=>{let{type:e,actionCreator:n,matcher:r,predicate:s,effect:i}=t;if(e)s=N(e).match;else if(n)e=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(A(21));return Vn(i),{predicate:s,type:e,effect:i}},Xn=Object.assign(t=>{const{type:e,predicate:n,effect:r}=Gn(t);return{id:_t(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(A(22))}}},{withTypes:()=>Xn}),Yn=Object.assign(N(`${Ne}/add`),{withTypes:()=>Yn});N(`${Ne}/removeAll`);var Zn=Object.assign(N(`${Ne}/remove`),{withTypes:()=>Zn});function A(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Jn=["error","warn","info","debug"],K=S(t=>{var e,n,r,s;return s=class extends t{constructor(){super(...arguments),e.add(this),n.set(this,d(this,e,"m",r).call(this,console))}set logger(o){M(this,n,d(this,e,"m",r).call(this,o),"f")}get logger(){return d(this,n,"f")}onLogEvent(o,a){}},n=new WeakMap,e=new WeakSet,r=function(o){return Jn.reduce((a,c)=>(a[c]=(...u)=>{var l;this.onLogEvent(c,u),(l=o[c])===null||l===void 0||l.call(o,...u)},a),{})},s}),Pe=typeof localStorage<"u",Qn="base.content.url",er="https://static.descope.com/pages",tr=Pe&&localStorage.getItem(Qn)||"",nr="v2-beta",Ct=(t,e)=>!e&&`${t} cannot be empty, please make sure to set this attribute`,X=S(t=>{var e,n;return n=class extends t{constructor(){super(...arguments),e.set(this,!0)}connectedCallback(){var s,i;(s=super.connectedCallback)===null||s===void 0||s.call(this),!((i=this.shadowRoot)===null||i===void 0)&&i.isConnected&&d(this,e,"f")&&(M(this,e,!1,"f"),this.init())}async init(){}},e=new WeakMap,n}),rr=(t,e)=>{Array.from(t.attributes).forEach(r=>e(r.name)),new MutationObserver(r=>{r.forEach(s=>{s.type==="attributes"&&e(s.attributeName)})}).observe(t,{attributes:!0})},xt=S(t=>{var e,n;const r=j(K,X)(t);return n=class extends r{constructor(){super(...arguments),e.set(this,{})}async init(){var i;await((i=super.init)===null||i===void 0?void 0:i.call(this)),rr(this,o=>{var a;(a=d(this,e,"f")[o])===null||a===void 0||a.forEach(c=>{c(o,this.getAttribute(o))})})}observeAttribute(i,o){d(this,e,"f")[i]||(d(this,e,"f")[i]=[]);const a=d(this,e,"f")[i].push(o);return()=>d(this,e,"f")[i].splice(a,1)}observeAttributes(i,o){const a=i.reduce((c,u)=>(c.push(this.observeAttribute(u,o)),c),[]);return()=>a.forEach(c=>c())}},e=new WeakMap,n}),Fe=t=>e=>{var n,r,s;const i=j(K,X,xt)(e),o=Object.keys(t);return s=class extends i{constructor(...c){super(...c),n.add(this),this.observeAttributes(o,d(this,n,"m",r).bind(this))}async init(){var c;await((c=super.init)===null||c===void 0?void 0:c.call(this)),o.forEach(u=>d(this,n,"m",r).call(this,u,this.getAttribute(u)))}},n=new WeakSet,r=function(c,u){const l=t[c],h=typeof l=="function"?l(c,u):l;h&&this.logger.error(h)},s};Fe.missingAttrValidator=Ct;const sr=S(t=>{const e=j(Fe({"project-id":Ct}))(t);return class extends e{get projectId(){return this.getAttribute("project-id")}}}),ir=S(t=>class extends t{get baseUrl(){return this.getAttribute("base-url")}});function or({projectId:t,filename:e,assetsFolder:n=nr,baseUrl:r}){const s=new URL(tr||r||er);return s.pathname=Pt(s.pathname,t,n,e),s.toString()}const Et=S(t=>{const e=j(K,sr,ir)(t);return class extends e{async fetchStaticResource(r,s){const i=or({projectId:this.projectId,filename:r,baseUrl:this.baseStaticUrl}),o=await fetch(i,{cache:"default"});return o.ok||this.logger.error(`Error fetching URL ${i} [${o.status}]`),{body:await o[s](),headers:Object.fromEntries(o.headers.entries())}}get baseStaticUrl(){return this.getAttribute("base-static-url")}}}),ar="config.json",Mt=S(t=>{var e,n,r;const s=j(Et)(t);return r=class extends s{constructor(){super(...arguments),e.set(this,void 0),n.set(this,async()=>{try{const{body:o,headers:a}=await this.fetchStaticResource(ar,"json");return{projectConfig:o,executionContext:{geo:a["x-geo"]}}}catch{this.logger.error("Cannot fetch config file","make sure that your projectId & flowId are correct")}})}get config(){return d(this,e,"f")||M(this,e,d(this,n,"f").call(this),"f"),d(this,e,"f")}},e=new WeakMap,n=new WeakMap,r}),Xr=S(t=>{var e,n,r,s,i,o,a;return a=class extends j(X,K)(t){constructor(){super(...arguments),e.add(this),n.set(this,void 0),this.attributeChangedCallback=(u,l,h)=>{var f;(f=super.attributeChangedCallback)===null||f===void 0||f.call(this,u,l,h),u==="debug"&&d(this,e,"m",i).call(this)}}get debug(){return this.getAttribute("debug")==="true"}onLogEvent(u,l){var h;(h=super.onLogEvent)===null||h===void 0||h.call(this,u,l),u==="error"&&d(this,e,"m",o).call(this,l[0]||"Error",l[1])}async init(){var u;await((u=super.init)===null||u===void 0?void 0:u.call(this)),d(this,e,"m",i).call(this)}},n=new WeakMap,e=new WeakSet,r=function(){var u;(u=d(this,n,"f"))===null||u===void 0||u.remove(),M(this,n,null,"f")},s=async function(){M(this,n,document.createElement("descope-debugger"),"f"),Object.assign(d(this,n,"f").style,{position:"fixed",top:"0",right:"0",height:"100vh",width:"100vw",pointerEvents:"none",zIndex:99999}),await Promise.resolve().then(function(){return xr}),document.body.appendChild(d(this,n,"f"))},i=function(){this.debug?d(this,e,"m",s).call(this):d(this,e,"m",r).call(this)},o=function(u,l){var h;u&&((h=d(this,n,"f"))===null||h===void 0||h.updateData({title:u,description:l}))},a}),xe="load-descope-ui",cr="load-descope-ui-fallback-script",Dt="base.ui.components.url",lr=Pe&&localStorage.getItem(Dt)||"https://static.descope.com/npm/@descope/web-components-ui@<version>/dist/umd/index.js",ur=Pe&&localStorage.getItem(Dt)||"https://cdn.jsdelivr.net/npm/@descope/web-components-ui@<version>/dist/umd/index.js",dr="<version>",Qe=t=>{const e=document.createElement("script");return e.id=t,e},et=(t,e)=>t.replace(dr,e),fr=t=>[...Array.from(t.content.querySelectorAll("*")).reduce((e,n)=>n.localName.startsWith("descope-")?e.add(n.localName):e,new Set)],$e=S(t=>{var e,n,r,s,i,o,a,c,u,l,h,f;const v=j(K,Mt)(t);return f=class extends v{constructor(){super(...arguments),e.add(this),n.set(this,Symbol("errorCbs")),r.set(this,Symbol("loadCbs")),u.set(this,void 0)}get descopeUi(){return d(this,u,"f")||M(this,u,d(this,e,"m",h).call(this),"f"),d(this,u,"f")}async loadDescopeUiComponents(p){const m=Array.isArray(p)?p:fr(p);return Promise.all(m.map(b=>d(this,e,"m",l).call(this,b)))}},n=new WeakMap,r=new WeakMap,u=new WeakMap,e=new WeakSet,s=async function(){var p;const m=await this.config,b=(p=m==null?void 0:m.projectConfig)===null||p===void 0?void 0:p.componentsVersion;return b?this.logger.debug(`Got component version "${b}"`):this.logger.error("Could not get components version"),b},i=function(p){const m=d(this,n,"f"),b=d(this,r,"f");p[m]=[],p[b]=[],Object.defineProperty(p,"onerror",{set(y){p[m].push(y)}}),Object.defineProperty(p,"onload",{set(y){p[b].push(y)}})},o=async function(p,m){this.logger.debug("Trying to load DescopeUI from a fallback URL");const b=Qe(cr);document.body.append(b),b.addEventListener("error",()=>{p.forEach(y=>y(`Cannot load DescopeUI from fallback URL, Make sure this URL is valid and return the correct script: "${b.src}"`))}),b.addEventListener("load",()=>{m.forEach(y=>y())}),b.src=et(ur,await d(this,e,"m",s).call(this))},a=function(p){p.addEventListener("error",()=>{p[d(this,n,"f")].forEach(m=>m(`Cannot load DescopeUI from main URL, Make sure this URL is valid and return the correct script: "${p.src}"`)),d(this,e,"m",o).call(this,p[d(this,n,"f")],p[d(this,r,"f")])}),p.addEventListener("load",()=>{p[d(this,r,"f")].forEach(m=>m())})},c=async function(){if(document.querySelector(`script#${xe}`))this.logger.debug("DescopeUI loading script already exists",this);else{this.logger.debug("DescopeUI loading script does not exist, creating it",this);const p=Qe(xe);document.body.append(p),d(this,e,"m",i).call(this,p),d(this,e,"m",a).call(this,p),p.src=et(lr,await d(this,e,"m",s).call(this))}return document.getElementById(xe)},l=async function(p){if(!!customElements.get(p)){this.logger.debug(`Loading component "${p}" is skipped as it is already defined`);return}const b=await this.descopeUi;if(!b[p]){this.logger.error(`Cannot load UI component "${p}"`,`Descope UI does not have a component named "${p}", available components are: "${Object.keys(b).join(", ")}"`);return}try{return await b[p]()}catch(y){if(y.name==="NotSupportedError")console.debug(`Encountered an error while attempting to define the "${p}" component, it is likely that this component is already defined`);else throw y}},h=function(){return new Promise(p=>{globalThis.DescopeUI&&p(globalThis.DescopeUI),d(this,e,"m",c).call(this).then(m=>{m.onerror=this.logger.error,m.onload=()=>{this.logger.debug("DescopeUI was loaded"),p(globalThis.DescopeUI)},setTimeout(()=>{globalThis.DescopeUI&&p(globalThis.DescopeUI)})})})},f}),Ee="content-root",se="root",We=S(t=>class extends t{constructor(...n){var r,s;super(...n),this.attachShadow({mode:"open"}).innerHTML=`

          <style>
            #${se}, #${Ee} {
              height: 100%;
            }
            #${se} {
              position: relative;
              height: fit-content;
            }
          </style>
          <div id="${se}">
            <div id="${Ee}"></div>
          </div>
          `,this.contentRootElement=(r=this.shadowRoot)===null||r===void 0?void 0:r.getElementById(Ee),this.rootElement=(s=this.shadowRoot)===null||s===void 0?void 0:s.getElementById(se)}}),St="descope-modal",hr=(t={})=>{const e=document.createElement(St);return Object.keys(t).forEach(n=>{e.setAttribute(n,t[n])}),e},Qr=S(t=>{var e,n;const r=j(X,We,$e)(t);return n=class extends r{constructor(){super(...arguments),e.set(this,(()=>{const i=this.loadDescopeUiComponents.bind(this);return class extends zt{setContent(a){i(a),super.setContent(a)}}})())}createModal(i){const a=hr(Object.assign(Object.assign({},{}),i));return this.rootElement.append(a),new(d(this,e,"f"))(a,{logger:this.logger})}async init(){var i;this.loadDescopeUiComponents([St]),await((i=super.init)===null||i===void 0?void 0:i.call(this))}},e=new WeakMap,n}),At="descope-notification",pr=(t={})=>{const e=document.createElement(At);return Object.keys(t).forEach(n=>{e.setAttribute(n,t[n])}),e},ns=S(t=>{var e,n;const r=j(X,We,$e)(t);return n=class extends r{constructor(){super(...arguments),e.set(this,(()=>{const i=this.loadDescopeUiComponents.bind(this);return class extends Bt{setContent(a){const c=typeof a=="string"?Nt(a):a;i(c),super.setContent(c)}}})())}createNotification(i){const a=pr(Object.assign(Object.assign({},{}),i));return this.rootElement.append(a),new(d(this,e,"f"))(a,{logger:this.logger})}async init(){var i;await((i=super.init)===null||i===void 0?void 0:i.call(this)),this.loadDescopeUiComponents([At])}},e=new WeakMap,n}),gr="theme.json",mr=t=>{const e=document.createElement("link");e.href=t,e.rel="stylesheet",document.head.appendChild(e)};const vr=(t,e)=>(e||!1)&&e!=="light"&&e!=="dark"&&'Supported theme values are "light", "dark", or leave empty for using the OS theme',is=S(t=>{var e,n,r,s,i,o,a,c,u;const l=j(Fe({theme:vr}),Et,X,$e,Mt,We,xt)(t);return u=class extends l{constructor(){super(...arguments),e.add(this),n.set(this,void 0)}get theme(){var f,v;const g=this.getAttribute("theme");return g==="os"?window.matchMedia&&((v=(f=window.matchMedia)===null||f===void 0?void 0:f.call(window,"(prefers-color-scheme: dark)"))===null||v===void 0?void 0:v.matches)?"dark":"light":g||"light"}async init(){var f;await((f=super.init)===null||f===void 0?void 0:f.call(this)),d(this,e,"m",i).call(this),d(this,e,"m",o).call(this),d(this,e,"m",a).call(this),d(this,e,"m",c).call(this),this.observeAttributes(["theme"],()=>{d(this,e,"m",a).call(this),d(this,e,"m",c).call(this)})}},n=new WeakMap,e=new WeakSet,r=async function(){try{const{body:f}=await this.fetchStaticResource(gr,"json");return f}catch{this.logger.error("Cannot fetch theme file","make sure that your projectId & flowId are correct")}},s=function(){return d(this,n,"f")||(M(this,n,d(this,e,"m",r).call(this),"f"),d(this,n,"f").then(f=>this.logger.debug("Fetched theme",f))),d(this,n,"f")},i=async function(){var f,v;const g=await d(this,e,"a",s);if(!g)return;const p=document.createElement("style");p.innerText=(((f=g==null?void 0:g.light)===null||f===void 0?void 0:f.globals)||"")+(((v=g==null?void 0:g.dark)===null||v===void 0?void 0:v.globals)||""),this.shadowRoot.appendChild(p)},o=async function(){var f,v;const g=Object.assign({},await d(this,e,"a",s));if(!g)return;const p=await this.descopeUi;p!=null&&p.componentsThemeManager&&(p.componentsThemeManager.themes={light:(f=g==null?void 0:g.light)===null||f===void 0?void 0:f.components,dark:(v=g==null?void 0:g.dark)===null||v===void 0?void 0:v.components})},a=async function(){var f,v;const{projectConfig:g}=await this.config,p=(v=(f=g==null?void 0:g.cssTemplate)===null||f===void 0?void 0:f[this.theme])===null||v===void 0?void 0:v.fonts;p&&Object.values(p).forEach(m=>{m.url&&(this.logger.debug(`Loading font from URL "${m.url}"`),mr(m.url))})},c=async function(){this.rootElement.setAttribute("data-theme",this.theme);const f=await this.descopeUi;f!=null&&f.componentsThemeManager&&(f.componentsThemeManager.currentThemeName=this.theme)},u}),as=t=>S(e=>{const n=Wn(t),r=Object.assign(Object.assign({},n.actions),t.asyncActions);return class extends j(K)(e){constructor(...i){super(...i);const o=An({reducer:n.reducer,middleware:u=>u({thunk:{extraArgument:this},serializableCheck:!1}),devTools:!1}),a=u=>async(...l)=>{const h=await o.dispatch(u(...l));try{wt(h)}catch(f){this.logger.error(f.message,h.type,f.stack)}return h},c=Object.keys(r).reduce((u,l)=>(u[l]=a(r[l]),u),{});this.actions=c,this.subscribe=(u,l=h=>h)=>o.subscribe(()=>u(l(o.getState())))}}}),ls=S(t=>class extends K(t){validateForm(n){return this.getFormInputs(n).every(r=>{var s,i;return(s=r.reportValidity)===null||s===void 0||s.call(r),(i=r.checkValidity)===null||i===void 0?void 0:i.call(r)})}getFormInputs(n){return n?Array.from(n.querySelectorAll("[name]")):(this.logger.debug("cannot get form inputs, no root element was received"),[])}getFormData(n){return this.getFormInputs(n).reduce((r,s)=>Object.assign(r,{[s.getAttribute("name")]:s.value}),{})}setFormData(n,r){this.getFormInputs(n).forEach(s=>{r.hasOwnProperty(s.getAttribute("name"))&&(s.value=r[s.getAttribute("name")])})}resetFormData(n){this.getFormInputs(n).forEach(r=>{r.value="",r.checked=!1})}getFormFieldNames(n){return this.getFormInputs(n).map(r=>r.name)}disableFormField(n,r){var s;(s=this.getFormInputs(n).find(i=>i.name===r))===null||s===void 0||s.setAttribute("disabled","true")}removeFormField(n,r){var s;(s=this.getFormInputs(n).find(i=>i.name===r))===null||s===void 0||s.remove()}}),ds=S(t=>class extends t{get baseStaticUrl(){return this.getAttribute("base-static-url")}}),Tt=(t,e,n,r={})=>{var s,i,o,a;return[Math.min(Math.max(e,(r.left==="all"?t.offsetWidth:(s=r.left)!==null&&s!==void 0?s:0)-t.offsetWidth),window.innerWidth-(r.right==="all"?t.offsetWidth:(i=r.right)!==null&&i!==void 0?i:0)),Math.min(Math.max(n,(r.top==="all"?t.offsetHeight:(o=r.top)!==null&&o!==void 0?o:0)-t.offsetHeight),window.innerHeight-(r.bottom==="all"?t.offsetHeight:(a=r.bottom)!==null&&a!==void 0?a:0))]},br=(t,e,n)=>{let r=0,s=0,i=0,o=0;function a(l){l.preventDefault(),r=i-l.clientX,s=o-l.clientY,i=l.clientX,o=l.clientY;const[h,f]=Tt(t,t.offsetLeft-r,t.offsetTop-s,n);t.style.top=`${f}px`,t.style.left=`${h}px`}function c(){document.onmouseup=null,document.onmousemove=null}function u(l){l.preventDefault(),i=l.clientX,o=l.clientY,document.onmouseup=c,document.onmousemove=a}e?e.onmousedown=u:t.onmousedown=u},yr=t=>{t.onmousemove=e=>{var n;const r=e.target;(r.w&&r.w!==r.offsetWidth||r.h&&r.h!==r.offsetHeight)&&((n=t.onresize)===null||n===void 0||n.call(t,e)),r.w=r.offsetWidth,r.h=r.offsetHeight}};var H,J,k,Q,ae,ce,kt,tt,Ie,Ot;const Me=32,nt=300,_r=200,rt=200,It=document.createElement("template");It.innerHTML=`
<style>
  .debugger {
    width: ${nt}px;
    height: ${_r}px;
    background-color: #FAFAFA;
    position: fixed;
    font-family: "Helvetica Neue", sans-serif;
    box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 10px;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid lightgrey;
    pointer-events: initial;
    display: flex;
    flex-direction: column;
    min-width: ${rt}px;
    max-width: 600px;
    max-height: calc(100% - ${Me*2}px);
    min-height: ${rt}px;
    resize: both;
  }

  .header {
    padding: 8px 16px;
    display: flex;
    align-items: center;
    background-color: #EEEEEE;
    cursor: move;
    border-bottom: 1px solid #e0e0e0;
  }

  .content {
    font-size: 14px;
    flex-grow: 1;
    overflow: auto;
  }

  .msg {
    border-bottom: 1px solid lightgrey;
    padding: 8px 16px;
    display: flex;
    gap: 5px;
    background-color: #FAFAFA;
  }

  .msg.collapsible {
    cursor: pointer;
  }

  .empty-state {
    padding: 8px 16px;
    background-color: #FAFAFA;
  }


  .msg.collapsible:not(.collapsed) {
    background-color: #F5F5F5;
  }

  .msg_title {
    padding-bottom: 5px;
    display: flex;
    gap: 8px;
    font-weight: 500;
  }

  .msg svg {
    padding: 1px;
    flex-shrink: 0;
    margin-top: -2px;
  }

  .msg_content {
    overflow: hidden;
    flex-grow: 1;
    margin-right:5px;
  }

  .msg_desc {
    color: #646464;
    cursor: initial;
    word-wrap: break-word;
  }

  .msg.collapsed .msg_desc {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .msg.collapsible.collapsed .chevron {
    transform: rotate(-45deg) translateX(-2px);
  }

  .msg.collapsible .chevron {
    content: "";
    width:6px;
    height:6px;
    border-bottom: 2px solid grey;
    border-right: 2px solid grey;
    transform: rotate(45deg) translateX(-1px);
    margin: 5px;
    flex-shrink:0;
  }
</style>

<div style="top:${Me}px; left:${window.innerWidth-nt-Me}px;" class="debugger">
  <div class="header">
    <span>Debugger messages</span>
  </div>
  <div class="content">
    <div class="empty-state">
      No errors detected 
    </div>
  </div>
</div>
`;const wr=`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.99984 13.167L8.99984 10.167L11.9998 13.167L13.1665 12.0003L10.1665 9.00033L13.1665 6.00033L11.9998 4.83366L8.99984 7.83366L5.99984 4.83366L4.83317 6.00033L7.83317 9.00033L4.83317 12.0003L5.99984 13.167ZM8.99984 17.3337C7.84706 17.3337 6.76373 17.1148 5.74984 16.677C4.73595 16.2398 3.854 15.6462 3.104 14.8962C2.354 14.1462 1.76039 13.2642 1.32317 12.2503C0.885393 11.2364 0.666504 10.1531 0.666504 9.00033C0.666504 7.84755 0.885393 6.76421 1.32317 5.75033C1.76039 4.73644 2.354 3.85449 3.104 3.10449C3.854 2.35449 4.73595 1.7606 5.74984 1.32283C6.76373 0.885603 7.84706 0.666992 8.99984 0.666992C10.1526 0.666992 11.2359 0.885603 12.2498 1.32283C13.2637 1.7606 14.1457 2.35449 14.8957 3.10449C15.6457 3.85449 16.2393 4.73644 16.6765 5.75033C17.1143 6.76421 17.3332 7.84755 17.3332 9.00033C17.3332 10.1531 17.1143 11.2364 16.6765 12.2503C16.2393 13.2642 15.6457 14.1462 14.8957 14.8962C14.1457 15.6462 13.2637 16.2398 12.2498 16.677C11.2359 17.1148 10.1526 17.3337 8.99984 17.3337ZM8.99984 15.667C10.8609 15.667 12.4373 15.0212 13.729 13.7295C15.0207 12.4378 15.6665 10.8614 15.6665 9.00033C15.6665 7.13921 15.0207 5.56283 13.729 4.27116C12.4373 2.97949 10.8609 2.33366 8.99984 2.33366C7.13873 2.33366 5.56234 2.97949 4.27067 4.27116C2.979 5.56283 2.33317 7.13921 2.33317 9.00033C2.33317 10.8614 2.979 12.4378 4.27067 13.7295C5.56234 15.0212 7.13873 15.667 8.99984 15.667Z" fill="#ED404A"/>
</svg>
`;class Cr extends HTMLElement{constructor(){var e;super(),H.add(this),J.set(this,new Ft({messages:[]})),k.set(this,void 0),Q.set(this,void 0),ae.set(this,void 0),ce.set(this,{resize:d(this,H,"m",Ot).bind(this)}),this.attachShadow({mode:"open"}),(e=this.shadowRoot)===null||e===void 0||e.appendChild(It.content.cloneNode(!0)),M(this,k,this.shadowRoot.querySelector(".debugger"),"f"),M(this,Q,d(this,k,"f").querySelector(".content"),"f"),M(this,ae,d(this,k,"f").querySelector(".header"),"f")}updateData(e){d(this,J,"f").update(n=>({messages:n.messages.concat(e)}))}connectedCallback(){br(d(this,k,"f"),d(this,ae,"f"),{top:"all",bottom:100,left:100,right:100}),window.addEventListener("resize",d(this,ce,"f").resize),yr(d(this,k,"f")),d(this,k,"f").onresize=d(this,H,"m",Ie).bind(this),d(this,J,"f").subscribe(d(this,H,"m",kt).bind(this))}disconnectedCallback(){d(this,J,"f").unsubscribeAll(),window.removeEventListener("resize",d(this,ce,"f").resize)}}J=new WeakMap,k=new WeakMap,Q=new WeakMap,ae=new WeakMap,ce=new WeakMap,H=new WeakSet,kt=function(e){d(this,H,"m",tt).call(this,e),d(this,H,"m",Ie).call(this)},tt=function(e){d(this,Q,"f").innerHTML=e.messages.map(n=>`
    <div class="msg">
      ${wr}
      <div class="msg_content">
        <div class="msg_title">
          ${n.title}
        </div>
        <div class="msg_desc">
          ${n.description||""}
        </div>
      </div>
      <div class="chevron"></div>
    </div>
  `).join("")},Ie=function(){d(this,Q,"f").querySelectorAll(".msg").forEach(e=>{const n=e,r=n.querySelector(".msg_desc"),s=20,i=r.scrollWidth>r.clientWidth,o=r.clientHeight>s;i||o?(n.classList.add("collapsible"),n.onclick=c=>{c.target.classList.contains("msg_desc")||n.classList.toggle("collapsed")}):(n.classList.remove("collapsible"),n.onclick=null)})},Ot=function(){const[e,n]=Tt(d(this,k,"f"),Number.parseInt(d(this,k,"f").style.left,10),Number.parseInt(d(this,k,"f").style.top,10),{top:"all",bottom:100,left:100,right:100});d(this,k,"f").style.top=`${n}px`,d(this,k,"f").style.left=`${e}px`};customElements.get("descope-debugger")||customElements.define("descope-debugger",Cr);var xr=Object.freeze({__proto__:null});export{Xr as A,Ar as B,Lr as C,ds as D,Fr as E,Ur as F,Nr as G,Pr as H,Sr as I,st as J,$r as a,Fe as b,pn as c,ir as d,as as e,We as f,$e as g,S as h,X as i,ls as j,Ir as k,K as l,Qr as m,j as n,xt as o,sr as p,Rr as q,Nt as r,Et as s,Dr as t,Or as u,Tr as v,jr as w,ns as x,kr as y,is as z};
